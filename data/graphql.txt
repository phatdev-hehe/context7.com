TITLE: Integrating GraphiQL with Express Server
DESCRIPTION: This code snippet adds GraphiQL, a GraphQL IDE, to the Express server. It uses the 'ruru' package to serve a pre-built GraphiQL interface at the root URL.

LANGUAGE: javascript
CODE:
var { ruruHTML } = require("ruru/server")

// Serve the GraphiQL IDE.
app.get("/", (_req, res) => {
  res.type("html")
  res.end(ruruHTML({ endpoint: "/graphql" }))
})

----------------------------------------

TITLE: Installing Express and GraphQL Dependencies
DESCRIPTION: This command installs the necessary npm packages for running an Express GraphQL server.

LANGUAGE: bash
CODE:
npm install express graphql-http graphql --save

----------------------------------------

TITLE: Structuring GraphQL POST Request Body in JSON
DESCRIPTION: Demonstrates the standard format for a GraphQL POST request body, including the query, operationName, variables, and extensions fields. The query field is required, while the others are optional.

LANGUAGE: json
CODE:
{
  "query": "...",
  "operationName": "...",
  "variables": { "myVariable": "someValue", ... },
  "extensions": { "myExtension": "someValue", ... }
}

----------------------------------------

TITLE: Defining GraphQL Schema using PHP Attributes
DESCRIPTION: This snippet demonstrates how to define a complete GraphQL schema using PHP attributes. It includes examples of mutations, queries, input types, object types, and enums. The code showcases the use of various attributes like #[Mutation], #[Query], #[InputType], #[Type], and #[Enum] to structure the schema.

LANGUAGE: php
CODE:
use Jerowork\GraphqlAttributeSchema\Attribute\Enum;
use Jerowork\GraphqlAttributeSchema\Attribute\Field;
use Jerowork\GraphqlAttributeSchema\Attribute\InputType;
use Jerowork\GraphqlAttributeSchema\Attribute\Mutation;
use Jerowork\GraphqlAttributeSchema\Attribute\Query;
use Jerowork\GraphqlAttributeSchema\Attribute\Type;

final readonly class CreateUserMutation
{
    #[Mutation]
    public function createUser(CreateUserInputType $input): User
    {
        // Business logic to create a user
    }
}

final readonly class UserQuery
{
    #[Query(description: 'Get a user')]
    public function user(int $userid): User
    {
        // Fetch and return user data
    }
}

#[InputType]
final readonly class CreateUserInputType
{
    public function __construct(
        #[Field]
        public int $userId,
        #[Field]
        public string $name,
        #[Field(name: 'phoneNumber')]
        public ?string $phone,
    ) {}
}

#[Type]
final readonly class User
{
    // Define fields as class properties
    public function __construct(
        #[Field]
        public int $userId,
        #[Field]
        public string $name,
        public ?string $phone,
        #[Field(description: 'The status of the user')]
        public UserStatusType $status,
    ) {}

    // Define fields with methods for additional logic
    #[Field]
    public function getPhoneNumber(): string
    {
        return sprintf('+31%s', $this->phone);
    }
}

#[Enum(description: 'The status of the user')]
enum UserStatusType: string
{
    case Created = 'CREATED';
    case Removed = 'REMOVED';
}

----------------------------------------

TITLE: Implementing a Mutation Resolver in JavaScript
DESCRIPTION: This snippet shows a hypothetical JavaScript implementation of a resolver function for the createReview mutation. It demonstrates how to interact with a database and return the created review.

LANGUAGE: javascript
CODE:
Mutation: {
  createReview(obj, args, context, info) {
    return context.db
      .createNewReview(args.episode, args.review)
      .then((reviewData) => new Review(reviewData))
  }
}

----------------------------------------

TITLE: Importing GraphQL HTTP Handler for Express
DESCRIPTION: Shows both ES6 and CommonJS import methods for the Express-specific GraphQL HTTP handler.

LANGUAGE: javascript
CODE:
import { createHandler } from "graphql-http/lib/use/express" // ES6
const { createHandler } = require("graphql-http/lib/use/express") // CommonJS

----------------------------------------

TITLE: Implementing Basic GraphQL Server with Mercurius
DESCRIPTION: Complete example showing how to create a basic GraphQL server using Mercurius and Fastify. Includes schema definition, resolver implementation, and server setup with a hello world query example.

LANGUAGE: javascript
CODE:
const Fastify = require("fastify")
const mercurius = require("mercurius")

const schema = `
  type Query {
    hello(name: String): String!
  }
`

const resolvers = {
  Query: {
    hello: async (_, { name }) => `hello ${name || "world"}`,
  },
}

const app = Fastify()
app.register(mercurius, {
  schema,
  resolvers,
})

app.listen(3000)

// Call IT!
// curl 'http://localhost:3000/graphql' \
//  -H 'content-type: application/json' \
//  --data-raw '{"query":"{ hello(name:\"Marcurius\") }" }'

----------------------------------------

TITLE: Implementing GraphQL Server with Express and Input Types
DESCRIPTION: This JavaScript code sets up a GraphQL server using Express, implementing the schema with input types and providing resolvers for message operations.

LANGUAGE: javascript
CODE:
var express = require("express")
var { createHandler } = require("graphql-http/lib/use/express")
var { buildSchema } = require("graphql")

// Construct a schema, using GraphQL schema language
var schema = buildSchema(/* GraphQL */`
  input MessageInput {
    content: String
    author: String
  }

  type Message {
    id: ID!
    content: String
    author: String
  }

  type Query {
    getMessage(id: ID!): Message
  }

  type Mutation {
    createMessage(input: MessageInput): Message
    updateMessage(id: ID!, input: MessageInput): Message
  }
`)

// If Message had any complex fields, we'd put them on this object.
class Message {
  constructor(id, { content, author }) {
    this.id = id
    this.content = content
    this.author = author
  }
}

// Maps username to content
var fakeDatabase = {}

var root = {
  getMessage({ id }) {
    if (!fakeDatabase[id]) {
      throw new Error("no message exists with id " + id)
    }
    return new Message(id, fakeDatabase[id])
  },
  createMessage({ input }) {
    // Create a random id for our "database".
    var id = require("crypto").randomBytes(10).toString("hex")

    fakeDatabase[id] = input
    return new Message(id, input)
  },
  updateMessage({ id, input }) {
    if (!fakeDatabase[id]) {
      throw new Error("no message exists with id " + id)
    }
    // This replaces all old data, but some apps might want partial update.
    fakeDatabase[id] = input
    return new Message(id, input)
  },
}

var app = express()
app.all(
  "/graphql",
  createHandler({
    schema: schema,
    rootValue: root,
  })
)
app.listen(4000, () => {
  console.log("Running a GraphQL API server at localhost:4000/graphql")
})

----------------------------------------

TITLE: Implementing GraphQL Basic Types with Express and graphql-http
DESCRIPTION: This snippet demonstrates how to create a GraphQL server using Express and graphql-http. It defines a schema with basic types (String, Float, and [Int]) and implements resolver functions for each query. The server exposes endpoints for quote of the day, random number generation, and dice rolling.

LANGUAGE: javascript
CODE:
var express = require("express")
var { createHandler } = require("graphql-http/lib/use/express")
var { buildSchema } = require("graphql")

// Construct a schema, using GraphQL schema language
var schema = buildSchema(`
  type Query {
    quoteOfTheDay: String
    random: Float!
    rollThreeDice: [Int]
  }
`)

// The root provides a resolver function for each API endpoint
var root = {
  quoteOfTheDay() {
    return Math.random() < 0.5 ? "Take it easy" : "Salvation lies within"
  },
  random() {
    return Math.random()
  },
  rollThreeDice() {
    return [1, 2, 3].map(_ => 1 + Math.floor(Math.random() * 6))
  },
}

var app = express()
app.all(
  "/graphql",
  createHandler({
    schema: schema,
    rootValue: root,
  })
)
app.listen(4000)
console.log("Running a GraphQL API server at localhost:4000/graphql")

----------------------------------------

TITLE: Creating a GraphQL API Server with Express in JavaScript
DESCRIPTION: This comprehensive code snippet demonstrates how to set up a GraphQL API server using Express, including schema definition, RandomDie class implementation, and server configuration.

LANGUAGE: javascript
CODE:
var express = require("express")
var { createHandler } = require("graphql-http/lib/use/express")
var { buildSchema } = require("graphql")

// Construct a schema, using GraphQL schema language
var schema = buildSchema(/* GraphQL */`
  type RandomDie {
    numSides: Int!
    rollOnce: Int!
    roll(numRolls: Int!): [Int]
  }

  type Query {
    getDie(numSides: Int): RandomDie
  }
`)

// This class implements the RandomDie GraphQL type
class RandomDie {
  constructor(numSides) {
    this.numSides = numSides
  }

  rollOnce() {
    return 1 + Math.floor(Math.random() * this.numSides)
  }

  roll({ numRolls }) {
    var output = []
    for (var i = 0; i < numRolls; i++) {
      output.push(this.rollOnce())
    }
    return output
  }
}

// The root provides the top-level API endpoints
var root = {
  getDie({ numSides }) {
    return new RandomDie(numSides || 6)
  },
}

var app = express()
app.all(
  "/graphql",
  createHandler({
    schema: schema,
    rootValue: root,
  })
)
app.listen(4000)
console.log("Running a GraphQL API server at localhost:4000/graphql")

----------------------------------------

TITLE: Creating a Basic GraphQL Server in JavaScript
DESCRIPTION: This snippet demonstrates how to create a simple GraphQL schema, define a resolver, and execute a query. It includes constructing a schema, defining a root value with a resolver function, and running a GraphQL query.

LANGUAGE: javascript
CODE:
var { graphql, buildSchema } = require("graphql")

// Construct a schema, using GraphQL schema language
var schema = buildSchema(`
  type Query {
    hello: String
  }
`)

// The rootValue provides a resolver function for each API endpoint
var rootValue = {
  hello() {
    return "Hello world!"
  }
}

// Run the GraphQL query '{ hello }' and print out the response
graphql({
  schema,
  source: "{ hello }",
  rootValue
}).then(response => {
  console.log(response)
})

----------------------------------------

TITLE: Implementing Basic Apollo GraphQL Server
DESCRIPTION: Complete implementation of a basic Apollo Server with GraphQL schema definition and resolver. Sets up a standalone server that responds with 'world' when querying 'hello'.

LANGUAGE: javascript
CODE:
import { ApolloServer } from "@apollo/server"
import { startStandaloneServer } from "@apollo/server/standalone"

// The GraphQL schema
const typeDefs = `#graphql
  type Query {
    hello: String
  }
`

// A map of functions which return data for the schema.
const resolvers = {
  Query: {
    hello: () => "world",
  },
}

const server = new ApolloServer({
  typeDefs,
  resolvers,
})

const { url } = await startStandaloneServer(server)
console.log(`ðŸš€ Server ready at ${url}`)

----------------------------------------

TITLE: Creating a GraphQL.js Hello World Script
DESCRIPTION: This script defines a simple GraphQL schema with a 'hello' query, sets up a resolver, and executes the query. It demonstrates the basic structure of a GraphQL.js application, including schema definition, query resolution, and execution.

LANGUAGE: javascript
CODE:
var { graphql, buildSchema } = require("graphql")

var schema = buildSchema(`
  type Query {
    hello: String
  }
`)

var rootValue = { hello: () => "Hello world!" }

var source = "{ hello }"

graphql({ schema, source, rootValue }).then(response => {
  console.log(response)
})

----------------------------------------

TITLE: Implementing a Minimal GraphQL Server with Ariadne in Python
DESCRIPTION: A basic 'Hello world' GraphQL server implementation using Ariadne. It defines a schema with a single query, creates a resolver function, and sets up the GraphQL application.

LANGUAGE: python
CODE:
from ariadne import ObjectType, gql, make_executable_schema
from ariadne.asgi import GraphQL

type_defs = gql(
    """
    type Query {
        hello: String!
    }
    """
)

query_type = ObjectType("Query")

@query_type.field("hello")
def resolve_hello(*_):
    return "Hello world!"

schema = make_executable_schema(type_defs, query_type)

app = GraphQL(schema, debug=True)

----------------------------------------

TITLE: Interface Type Definition
DESCRIPTION: Definition of Character interface showing required fields for implementing types

LANGUAGE: graphql
CODE:
interface Character {
  id: ID!
  name: String!
  friends: [Character]
  appearsIn: [Episode]!
}

----------------------------------------

TITLE: Implementing Root Resolvers for GraphQL Mutations and Queries
DESCRIPTION: This JavaScript code demonstrates the implementation of root resolvers for the setMessage mutation and getMessage query using a fake database.

LANGUAGE: javascript
CODE:
var fakeDatabase = {}
var root = {
  setMessage({ message }) {
    fakeDatabase.message = message
    return message
  },
  getMessage() {
    return fakeDatabase.message
  },
}

----------------------------------------

TITLE: Demonstrating Deeply Nested GraphQL Query
DESCRIPTION: This snippet shows a deeply nested GraphQL query that could potentially become cyclical. It illustrates why depth limiting is important to prevent excessive server load and potential denial of service attacks.

LANGUAGE: graphql
CODE:
query {
  hero {
    name
    friends {
      name
      friends {
        name
        friends {
          name
          friends {
            name
          }
        }
      }
    }
  }
}

----------------------------------------

TITLE: Defining Advanced GraphQL Schema with Input Types
DESCRIPTION: This GraphQL schema introduces input types for message creation and updating, along with corresponding query and mutation definitions.

LANGUAGE: graphql
CODE:
input MessageInput {
  content: String
  author: String
}

type Message {
  id: ID!
  content: String
  author: String
}

type Query {
  getMessage(id: ID!): Message
}

type Mutation {
  createMessage(input: MessageInput): Message
  updateMessage(id: ID!, input: MessageInput): Message
}

----------------------------------------

TITLE: Defining Mutation Fields in GraphQL Schema
DESCRIPTION: This snippet shows how to define mutation fields in a GraphQL schema, including input types and enum values. It demonstrates the structure for creating a review for a movie episode.

LANGUAGE: graphql
CODE:
enum Episode {
  NEWHOPE
  EMPIRE
  JEDI
}

input ReviewInput {
  stars: Int!
  commentary: String
}

type Mutation {
  createReview(episode: Episode, review: ReviewInput!): Review
}

----------------------------------------

TITLE: Installing DataLoader Package
DESCRIPTION: Command to install the dataloader package for optimizing and batching GraphQL queries.

LANGUAGE: shell
CODE:
npm i dataloader

----------------------------------------

TITLE: Comparing Unbounded and Paginated GraphQL Queries
DESCRIPTION: This snippet demonstrates the difference between an unbounded 'friends' field and a paginated 'friendsConnection' field in a GraphQL query. It shows how pagination can limit the amount of data returned in a single request.

LANGUAGE: graphql
CODE:
query {
  hero {
    name
    friends {
      name
    }
    friendsConnection(first: 1) {
      edges {
        node {
          name
        }
      }
    }
  }
}

----------------------------------------

TITLE: Implementing a Basic GraphQL Schema with Strawberry in Python
DESCRIPTION: This snippet demonstrates how to create a simple GraphQL schema using Strawberry. It defines a Query type with a 'hello' field that accepts an optional 'name' parameter and returns a greeting string.

LANGUAGE: python
CODE:
import strawberry

@strawberry.type
class Query:
    @strawberry.field
    def hello(self, name: str = "World") -> str:
        return f"Hello {name}"

schema = strawberry.Schema(query=Query)

----------------------------------------

TITLE: Setting up an Express GraphQL Server
DESCRIPTION: This code sets up a basic Express server with a GraphQL endpoint using graphql-http. It defines a simple schema with a 'hello' query that returns 'Hello world!'.

LANGUAGE: javascript
CODE:
var express = require("express")
var { createHandler } = require("graphql-http/lib/use/express")
var { buildSchema } = require("graphql")

// Construct a schema, using GraphQL schema language
var schema = buildSchema(`
  type Query {
    hello: String
  }
`)

// The root provides a resolver function for each API endpoint
var root = {
  hello() {
    return "Hello world!"
  },
}

var app = express()

// Create and use the GraphQL handler.
app.all(
  "/graphql",
  createHandler({
    schema: schema,
    rootValue: root,
  })
)

// Start the server at port
app.listen(4000)
console.log("Running a GraphQL API server at http://localhost:4000/graphql")

----------------------------------------

TITLE: Unified GraphQL Schema for Federation
DESCRIPTION: This snippet presents the unified GraphQL schema that clients can query, combining types and fields from all three subgraphs (Users, Orders, and Products).

LANGUAGE: graphql
CODE:
type Query {
  user(id: ID!): User
}

type User {
  id: ID!
  name: String!
  email: String
  orders: [Order!]!
}

type Order {
  id: ID!
  products: [Product!]!
  total: Float!
}

type Product {
  id: ID!
  title: String!
  price: Float!
  inStock: Boolean!
}

----------------------------------------

TITLE: Implementing a GraphQL Hello World Query with Graphene in Python
DESCRIPTION: This code snippet demonstrates how to create a simple GraphQL API using Graphene. It defines a Query type with a 'hello' field that accepts an optional 'name' parameter and returns a greeting string.

LANGUAGE: python
CODE:
import graphene

class Query(graphene.ObjectType):
  hello = graphene.String(name=graphene.String(default_value="World"))

  def resolve_hello(self, info, name):
    return 'Hello ' + name

schema = graphene.Schema(query=Query)
result = schema.execute('{ hello }')
print(result.data['hello']) # "Hello World"

----------------------------------------

TITLE: Executing Hello World Query with GraphQL Java
DESCRIPTION: Demonstrates how to create a simple GraphQL schema, set up runtime wiring, and execute a hello world query using the graphql-java library. The code creates a basic Query type with a hello field that returns a String value 'world'.

LANGUAGE: java
CODE:
import graphql.ExecutionResult;
import graphql.GraphQL;
import graphql.schema.GraphQLSchema;
import graphql.schema.StaticDataFetcher;
import graphql.schema.idl.RuntimeWiring;
import graphql.schema.idl.SchemaGenerator;
import graphql.schema.idl.SchemaParser;
import graphql.schema.idl.TypeDefinitionRegistry;

import static graphql.schema.idl.RuntimeWiring.newRuntimeWiring;

public class HelloWorld {

    public static void main(String[] args) {
        String schema = "type Query{hello: String}";

        SchemaParser schemaParser = new SchemaParser();
        TypeDefinitionRegistry typeDefinitionRegistry = schemaParser.parse(schema);

        RuntimeWiring runtimeWiring = newRuntimeWiring()
                .type("Query", builder -> builder.dataFetcher("hello", new StaticDataFetcher("world")))
                .build();

        SchemaGenerator schemaGenerator = new SchemaGenerator();
        GraphQLSchema graphQLSchema = schemaGenerator.makeExecutableSchema(typeDefinitionRegistry, runtimeWiring);

        GraphQL build = GraphQL.newGraphQL(graphQLSchema).build();
        ExecutionResult executionResult = build.execute("{hello}");

        System.out.println(executionResult.getData().toString());
        // Prints: {hello=world}
    }
}

----------------------------------------

TITLE: Installing Apollo Server Dependencies
DESCRIPTION: Commands to install the required npm packages for running Apollo Server with GraphQL

LANGUAGE: bash
CODE:
npm install @apollo/server graphql

----------------------------------------

TITLE: Executing a RateFilm Mutation in GraphQL
DESCRIPTION: This example shows how to execute a mutation for rating a film. It demonstrates the use of custom scalar types (Episode and FilmRating) as input variables.

LANGUAGE: graphql
CODE:
mutation RateFilm($episode: Episode!, $rating: FilmRating!) { 
  rateFilm(episode: $episode, rating: $rating) {
    episode
    viewerRating
  }
}

----------------------------------------

TITLE: Implementing Hello World GraphQL Query with Tartiflette
DESCRIPTION: Complete example showing how to create a simple GraphQL API with a Query type containing a 'hello' resolver that accepts a name parameter. Uses async/await pattern and demonstrates query execution.

LANGUAGE: python
CODE:
import asyncio
from tartiflette import Engine, Resolver
@Resolver("Query.hello")
async def resolver_hello(parent, args, ctx, info):
    return "hello " + args["name"]
async def run():
    tftt_engine = Engine("""
    type Query {
        hello(name: String): String
    }
    """)
    result = await tftt_engine.execute(
        query='query { hello(name: "Chuck") }'
    )
    print(result)
    # {'data': {'hello': 'hello Chuck'}}
if __name__ == "__main__":
    loop = asyncio.get_event_loop()
    loop.run_until_complete(run())

----------------------------------------

TITLE: Implementing GraphQL Server with Alumbra in Clojure
DESCRIPTION: Sets up a GraphQL server using Alumbra with a Person type schema. Implements resolvers for person queries and demonstrates how to create a GraphQL handler and start the server on port 3000.

LANGUAGE: clojure
CODE:
(require '[alumbra.core :as alumbra]
         '[claro.data :as data])

(def schema
  "type Person { name: String!, friends: [Person!]! }
   type QueryRoot { person(id: ID!): Person, me: Person! }
   schema { query: QueryRoot }")

(defrecord Person [id]
  data/Resolvable
  (resolve! [_ _]
    {:name    (str "Person #" id)
     :friends (map ->Person  (range (inc id) (+ id 3)))}))

(def QueryRoot
  {:person (map->Person {})
   :me     (map->Person {:id 0})})

(def app
  (alumbra/handler
    {:schema schema
     :query  QueryRoot}))

(defonce my-graphql-server
  (aleph.http/start-server #'app {:port 3000}))

----------------------------------------

TITLE: Named Query Operation
DESCRIPTION: Demonstrates a named query operation with explicit operation type.

LANGUAGE: graphql
CODE:
query HeroNameAndFriends {
  hero {
    name
    friends {
      name
    }
  }
}

----------------------------------------

TITLE: Configuring and Running a Hot Chocolate GraphQL Server in C#
DESCRIPTION: This snippet demonstrates how to set up a basic Hot Chocolate GraphQL server using ASP.NET Core. It configures the necessary services, adds a query type, and maps the GraphQL endpoint. The example also includes a simple Query class with a GetHero method returning a Hero object.

LANGUAGE: csharp
CODE:
using Microsoft.AspNetCore;
using Microsoft.AspNetCore.Hosting;
using Microsoft.AspNetCore.Builder;
using Microsoft.Extensions.DependencyInjection;

WebHost
    .CreateDefaultBuilder(args)
    .ConfigureServices(services =>
        services
            .AddGraphQLServer()
            .AddQueryType<Query>())
    .Configure(builder =>
        builder
            .UseRouting()
            .UseEndpoints(e => e.MapGraphQL()))
    .Build()
    .Run();

public class Query
{
    public Hero GetHero() => new Hero();
}

public class Hero
{
    public string Name => "Luke Skywalker";
}

----------------------------------------

TITLE: Defining a Query Type with rollDice Method in GraphQL
DESCRIPTION: This snippet shows how to define a Query type with a rollDice method that takes arguments in GraphQL schema language.

LANGUAGE: graphql
CODE:
type Query {
  rollDice(numDice: Int!, numSides: Int): [Int]
}

----------------------------------------

TITLE: Implementing Basic GraphQL Schema in Rails
DESCRIPTION: Shows how to create a minimal GraphQL schema using rails-graphql gem. Includes a simple query field that resolves to 'Hello World!' and demonstrates schema execution.

LANGUAGE: ruby
CODE:
require 'rails-graphql'

class GraphQL::AppSchema < GraphQL::Schema
  query_fields do
    field(:hello).resolve { 'Hello World!' }
  end
end

puts GraphQL::AppSchema.execute('{ hello }')

----------------------------------------

TITLE: Creating and Executing a Simple GraphQL Query with Caliban in Scala
DESCRIPTION: This snippet demonstrates how to define a basic GraphQL schema, create a resolver, and execute a query using Caliban. It shows the minimal setup required to get a working GraphQL endpoint.

LANGUAGE: scala
CODE:
import caliban._
import caliban.schema.Schema.auto._

// schema
case class Query(hello: String)

// resolver
val resolver = RootResolver(Query("Hello world!"))

val api = graphQL(resolver)

for {
  interpreter <- api.interpreter
  result      <- interpreter.execute("{ hello }")
} yield result

----------------------------------------

TITLE: Query with Arguments
DESCRIPTION: Example of using arguments in a query to fetch specific data about a human character.

LANGUAGE: graphql
CODE:
{
  human(id: "1000") {
    name
    height
  }
}

----------------------------------------

TITLE: Creating a GraphQL Yoga server with a Hello World query
DESCRIPTION: This code snippet demonstrates how to create a basic GraphQL Yoga server with a single 'hello' query. It uses the createServer function from the 'http' module and the createYoga and createSchema functions from graphql-yoga to set up the server and define the GraphQL schema.

LANGUAGE: javascript
CODE:
import { createServer } from "http"
import { createSchema, createYoga } from "graphql-yoga"

createServer(
  createYoga({
    schema: createSchema({
      typeDefs: /* GraphQL */ `
        type Query {
          hello: String
        }
      `,
      resolvers: {
        Query: {
          hello: () => "Hello Hello Hello",
        },
      },
    }),
  }),
).listen(4000, () => {
  console.info("GraphQL Yoga is listening on http://localhost:4000/graphql")
})

----------------------------------------

TITLE: Initializing GraphQL Server with GiraphQL Schema
DESCRIPTION: Demonstrates setting up a basic GraphQL server using GiraphQL and Apollo Server. Creates a simple query type with a 'hello' field that accepts a name argument and returns a greeting message.

LANGUAGE: typescript
CODE:
import { ApolloServer } from "apollo-server"
import SchemaBuilder from "@giraphql/core"

const builder = new SchemaBuilder({})

builder.queryType({
  fields: t => ({
    hello: t.string({
      args: {
        name: t.arg.string({}),
      },
      resolve: (parent, { name }) => `hello, ${name || "World"}`,
    }),
  }),
})

new ApolloServer({
  schema: builder.toSchema({}),
}).listen(3000)

----------------------------------------

TITLE: Query with Fragments
DESCRIPTION: Shows how to use fragments to reuse sets of fields across multiple queries.

LANGUAGE: graphql
CODE:
query {
  leftComparison: hero(episode: EMPIRE) {
    ...comparisonFields
  }
  rightComparison: hero(episode: JEDI) {
    ...comparisonFields
  }
}

fragment comparisonFields on Character {
  name
  appearsIn
  friends {
    name
  }
}

----------------------------------------

TITLE: Complete GraphQL Mocking Example
DESCRIPTION: A full example showing schema definition and mock server setup with custom resolvers for a task management system. Demonstrates type definitions, custom mock functions, and complex query handling.

LANGUAGE: javascript
CODE:
import { mockServer, MockList } from "graphql-tools"
import casual from "casual-browserify"

// The GraphQL schema. Described in more detail here:
// https://medium.com/apollo-stack/the-apollo-server-bc68762e93b
const schema = `
  type User {
    id: ID!
    name: String
    lists: [List]
  }
  type List {
    id: ID!
    name: String
    owner: User
    incomplete_count: Int
    tasks(completed: Boolean): [Task]
  }
  type Task {
    id: ID!
    text: String
    completed: Boolean
    list: List
  }
  type RootQuery {
    user(id: ID): User
  }
  schema {
    query: RootQuery
  }
`

// Mock functions are defined per type and return an
// object with some or all of the fields of that type.
// If a field on the object is a function, that function
// will be used to resolve the field if the query requests it.
const server = mockServer(schema, {
  RootQuery: () => ({
    user: (o, { id }) => ({ id }),
  }),
  List: () => ({
    name: () => casual.word,
    tasks: () => new MockList(4, (o, { completed }) => ({ completed })),
  }),
  Task: () => ({ text: casual.words(10) }),
  User: () => ({ name: casual.name }),
})

mockServer.query(`
query tasksForUser{
  user(id: 6) {
    id
    name
    lists {
      name
      completeTasks: tasks(completed: true) {
        completed
        text
      }
      incompleteTasks: tasks(completed: false) {
        completed
        text
      }
      anyTasks: tasks {
        completed
        text
      }
    }
  }
}`)

----------------------------------------

TITLE: Creating and Executing a Hello World GraphQL Query with Sangria in Scala
DESCRIPTION: This snippet demonstrates how to define a simple GraphQL schema with a 'hello' field, create a query, and execute it using Sangria. It showcases the basic structure for setting up a GraphQL endpoint in a Scala application.

LANGUAGE: scala
CODE:
import sangria.schema._
import sangria.execution._
import sangria.macros._

val QueryType = ObjectType("Query", fields[Unit, Unit](
  Field("hello", StringType, resolve = _ â‡’ "Hello world!")
))

val schema = Schema(QueryType)

val query = graphql"{ hello }"

Executor.execute(schema, query) map println

----------------------------------------

TITLE: Implementing PHP GraphQL Server
DESCRIPTION: Server implementation using Siler that sets up a GraphQL endpoint with schema definition, resolvers, and error handling. The server runs on localhost:8080 and includes PSR-7 compatibility.

LANGUAGE: php
CODE:
<?php
declare(strict_types=1);
require_once '/path/to/vendor/autoload.php';

use SilerDiactoros;
use SilerGraphql;
use SilerHttp;

$typeDefs = file_get_contents(__DIR__.'/schema.graphql');
$resolvers = [
    'Query' => [
        'hello' => 'world',
    ],
];
$schema = Graphqlschema($typeDefs, $resolvers);

echo "Server running at http://127.0.0.1:8080";

Httpserver(Graphqlpsr7($schema), function (Throwable $err) {
    var_dump($err);
    return Diactorosjson([
        'error'   => true,
        'message' => $err->getMessage(),
    ]);
})()->run();

----------------------------------------

TITLE: Implementing GraphQL Query with Hooks
DESCRIPTION: Demonstrates using the useQuery hook to fetch data with variables, handle loading and error states, and render results. Shows a complete example of querying user data with limit parameter.

LANGUAGE: javascript
CODE:
import { useQuery } from "graphql-hooks"

const HOMEPAGE_QUERY = `query HomePage($limit: Int) {
  users(limit: $limit) {
    id
    name
  }
}`

function MyComponent() {
  const { loading, error, data } = useQuery(HOMEPAGE_QUERY, {
    variables: {
      limit: 10,
    },
  })

  if (loading) return "Loading..."
  if (error) return "Something Bad Happened"

  return (
    <ul>
      {data.users.map(({ id, name }) => (
        <li key={id}>{name}</li>
      ))}
    </ul>
  )
}

----------------------------------------

TITLE: Creating GraphQL Schema Programmatically
DESCRIPTION: Shows how to create the same GraphQL API using the GraphQLSchema constructor and programmatic type definitions. Implements user queries using Express and graphql-http without schema language.

LANGUAGE: javascript
CODE:
var express = require("express")
var { createHandler } = require("graphql-http/lib/use/express")
var graphql = require("graphql")

// Maps id to User object
var fakeDatabase = {
  a: {
    id: "a",
    name: "alice",
  },
  b: {
    id: "b",
    name: "bob",
  },
}

// Define the User type
var userType = new graphql.GraphQLObjectType({
  name: "User",
  fields: {
    id: { type: graphql.GraphQLString },
    name: { type: graphql.GraphQLString },
  },
})

// Define the Query type
var queryType = new graphql.GraphQLObjectType({
  name: "Query",
  fields: {
    user: {
      type: userType,
      // `args` describes the arguments that the `user` query accepts
      args: {
        id: { type: graphql.GraphQLString },
      },
      resolve: (_, { id }) => {
        return fakeDatabase[id]
      },
    },
  },
})

var schema = new graphql.GraphQLSchema({ query: queryType })

var app = express()
app.all(
  "/graphql",
  createHandler({
    schema: schema,
  })
)
app.listen(4000)
console.log("Running a GraphQL API server at localhost:4000/graphql")

----------------------------------------

TITLE: Implementing a Basic GraphQL Query in Rust with Async-graphql
DESCRIPTION: This snippet demonstrates how to define a simple GraphQL query using the Async-graphql library in Rust. It creates a Query struct with an 'add' field that takes two integers and returns their sum.

LANGUAGE: rust
CODE:
use async_graphql::*;
struct Query;
#[Object]
impl Query {
   /// Returns the sum of a and b
   async fn add(&self, a: i32, b: i32) -> i32 {
       a + b
   }
}

----------------------------------------

TITLE: Initializing GraphQLBox Server with Caching and Debugging
DESCRIPTION: This JavaScript code initializes a GraphQLBox server with a persisted cache using Redis, debugging enabled, and custom schema. It also demonstrates how to use the server in an Express-like application.

LANGUAGE: javascript
CODE:
import Cachemap from "@cachemap/core"
import redis from "@cachemap/redis"
import reaper from "@cachemap/reaper"
import CacheManager from "@graphql-box/cache-manager"
import Client from "@graphql-box/client"
import DebugManager from "@graphql-box/debug-manager"
import Execute from "@graphql-box/execute"
import RequestParser from "@graphql-box/request-parser"
import Server from "@graphql-box/server"
import { makeExecutableSchema } from "@graphql-tools/schema"
import { performance } from "perf_hooks"
import { schemaResolvers, schemaTypeDefs } from "./schema"
import logger from "./logger"

const schema = makeExecutableSchema({
  typeDefs: schemaTypeDefs,
  resolvers: schemaResolvers,
})

const server = new Server({
  client: new Client({
    cacheManager: new CacheManager({
      cache: new Cachemap({
        name: "server-cache",
        reaper: reaper({ interval: 300000 }),
        store: redis(/* configure */),
      }),
      cascadeCacheControl: true,
      typeCacheDirectives: {
        // Add any type specific cache control directives in the format:
        // TypeName: "public, max-age=3",
      },
    }),
    debugManager: new DebugManager({
      environment: "server",
      log: (...args) => {
        logger.log(...args)
      },
      name: "SERVER",
      performance,
    }),
    requestManager: new Execute({ schema }),
    requestParser: new RequestParser({ schema }),
  }),
})

// Meanwhile... somewhere else in your code

app.use("api/graphql", graphqlServer.request())

----------------------------------------

TITLE: Basic GraphQL Query Example
DESCRIPTION: Simple example showing how to query hero data with name and appearsIn fields

LANGUAGE: graphql
CODE:
{
  hero {
    name
    appearsIn
  }
}

----------------------------------------

TITLE: Character Object Type Definition
DESCRIPTION: Definition of a Character type with name and appearsIn fields demonstrating non-null and list type modifiers

LANGUAGE: graphql
CODE:
type Character {
  name: String!
  appearsIn: [Episode!]!
}

----------------------------------------

TITLE: Creating GraphQL Schema Using Schema Language
DESCRIPTION: Demonstrates how to create a GraphQL API using buildSchema with schema language definition. Implements a simple user query with hardcoded data using Express and graphql-http.

LANGUAGE: javascript
CODE:
var express = require("express")
var { createHandler } = require("graphql-http/lib/use/express")
var { buildSchema } = require("graphql")

var schema = buildSchema(`
  type User {
    id: String
    name: String
  }

  type Query {
    user(id: String): User
  }
`)

// Maps id to User object
var fakeDatabase = {
  a: {
    id: "a",
    name: "alice",
  },
  b: {
    id: "b",
    name: "bob",
  },
}

var root = {
  user({ id }) {
    return fakeDatabase[id]
  },
}

var app = express()
app.all(
  "/graphql",
  createHandler({
    schema: schema,
    rootValue: root,
  })
)
app.listen(4000)
console.log("Running a GraphQL API server at localhost:4000/graphql")

----------------------------------------

TITLE: Implementing Express Middleware and IP Logging in GraphQL Server
DESCRIPTION: This code snippet sets up a GraphQL server using Express and graphql-http. It demonstrates how to use middleware for logging IP addresses and how to access the request object in a resolver to return the caller's IP address.

LANGUAGE: javascript
CODE:
var express = require("express")
var { createHandler } = require("graphql-http/lib/use/express")
var { buildSchema } = require("graphql")

var schema = buildSchema(`
  type Query {
    ip: String
  }
`)

function loggingMiddleware(req, res, next) {
  console.log("ip:", req.ip)
  next()
}

var root = {
  ip(args, context) {
    return context.ip
  },
}

var app = express()
app.use(loggingMiddleware)
app.all(
  "/graphql",
  createHandler({
    schema: schema,
    rootValue: root,
    context: req => ({
      ip: req.raw.ip,
    }),
  })
)
app.listen(4000)
console.log("Running a GraphQL API server at localhost:4000/graphql")

----------------------------------------

TITLE: Input Object Type Example
DESCRIPTION: Example showing how to define an input type for mutations

LANGUAGE: graphql
CODE:
input ReviewInput {
  stars: Int!
  commentary: String
}

type Mutation {
  createReview(episode: Episode, review: ReviewInput!): Review
}

----------------------------------------

TITLE: Implementing GraphQL Character Type in JavaScript
DESCRIPTION: This code defines a Character class that corresponds to a GraphQL Character type. It includes methods for retrieving the character's name, home world, and friends. The class uses internal properties and external fetch functions to resolve the data.

LANGUAGE: JavaScript
CODE:
// type Character {
class Character {
  // name: String
  getName() {
    return this._name
  }
  // homeWorld: Planet
  getHomeWorld() {
    return fetchHomeworld(this._homeworldID)
  }
  // friends: [Character]
  getFriends() {
    return this._friendIDs.map(fetchCharacter)
  }
}

----------------------------------------

TITLE: Example GraphQL Query
DESCRIPTION: Sample query requesting human data including name, episodes appeared in, and associated starships.

LANGUAGE: graphql
CODE:
query {
  human(id: 1002) {
    name
    appearsIn
    starships {
      name
    }
  }
}

----------------------------------------

TITLE: Querying Star Wars API with Qlient
DESCRIPTION: Example showing how to create a GraphQL client, query film data from SWAPI, and handle the response. Demonstrates field selection and query parameters.

LANGUAGE: python
CODE:
from qlient.http import HTTPClient, GraphQLResponse

client = HTTPClient("https://swapi-graphql.netlify.app/.netlify/functions/index")

res: GraphQLResponse = client.query.film(
    # swapi graphql input fields
    id="ZmlsbXM6MQ==",

    # qlient specific
    _fields=["id", "title", "episodeID"]
)

print(res.request.query)  # query film($id: ID) { film(id: $id) { id title episodeID } }
print(res.request.variables)  # {'id': 'ZmlsbXM6MQ=='}
print(res.data)  # {'film': {'id': 'ZmlsbXM6MQ==', 'title': 'A New Hope', 'episodeID': 4}}

----------------------------------------

TITLE: Defining a GraphQL Enum Type in JavaScript
DESCRIPTION: Example of creating a GraphQLEnumType for RGB colors with integer values.

LANGUAGE: javascript
CODE:
var RGBType = new GraphQLEnumType({
  name: "RGB",
  values: {
    RED: { value: 0 },
    GREEN: { value: 1 },
    BLUE: { value: 2 },
  },
})

----------------------------------------

TITLE: Illustrating GraphQL Query Breadth and Aliasing
DESCRIPTION: This snippet demonstrates a GraphQL query with excessive breadth and aliasing. It shows how a single query could potentially overload the server by requesting the same field multiple times with different limits.

LANGUAGE: graphql
CODE:
query {
  viewer {
    friends1: friends(limit: 1) { name }
    friends2: friends(limit: 2) { name }
    friends3: friends(limit: 3) { name }
    # ...
    friends100: friends(limit: 100) { name }
  }
}

----------------------------------------

TITLE: Defining Order Subgraph Schema in GraphQL
DESCRIPTION: This snippet demonstrates the GraphQL schema for an Order subgraph, including the Order type and a reference to the Product type.

LANGUAGE: graphql
CODE:
type Order @key(fields: "id") {
  id: ID!
  products: [Product!]!
  total: Float!
}

type Product {
  id: ID!
}

----------------------------------------

TITLE: Complex GraphQL Query with Variables and Directives
DESCRIPTION: Advanced example demonstrating query generation with variables, arguments, and directives using the graphql_query package

LANGUAGE: graphql
CODE:
query Hero($episode: Episode, $withFriends: Boolean!) {
  hero(episode: $episode) {
    name
    friends @include(if: $withFriends) {
      name
    }
  }
}

LANGUAGE: python
CODE:
from graphql_query import Argument, Directive, Field, Operation, Query, Variable

episode = Variable(name="episode", type="Episode")
withFriends = Variable(name="withFriends", type="Boolean!")

arg_episode = Argument(name="episode", value=episode)
arg_if = Argument(name="if", value=withFriends)

hero = Query(
    name="hero",
    arguments=[arg_episode],
    fields=[
        "name",
        Field(
            name="friends",
            fields=["name"],
            directives=[Directive(name="include", arguments=[arg_if])]
        )
    ]
)
operation = Operation(
    type="query",
    name="Hero",
    variables=[episode, withFriends],
    queries=[hero]
)
print(operation.render())
"""
query Hero(
  $episode: Episode
  $withFriends: Boolean!
) {
  hero(
    episode: $episode
  ) {
    name
    friends @include(
      if: $withFriends
    ) {
      name
    }
  }
}"""

----------------------------------------

TITLE: Defining a GraphQL Union Type in JavaScript
DESCRIPTION: Example of creating a GraphQLUnionType for a Pet, which can be either a Dog or a Cat.

LANGUAGE: javascript
CODE:
var PetType = new GraphQLUnionType({
  name: "Pet",
  types: [DogType, CatType],
  resolveType(value) {
    if (value instanceof Dog) {
      return DogType
    }
    if (value instanceof Cat) {
      return CatType
    }
  },
})

----------------------------------------

TITLE: Demonstrating GraphQL Introspection Query
DESCRIPTION: This snippet shows a simple introspection query that attempts to fetch information about a 'starship' field. It illustrates how detailed error messages can potentially reveal sensitive schema information.

LANGUAGE: graphql
CODE:
query {
  starship(id: 3000) {
    width
  }
}

----------------------------------------

TITLE: Executing a CreateReview Mutation in GraphQL
DESCRIPTION: This example demonstrates how to execute a mutation operation to create a review for a movie episode. It shows the use of variables and selection set for the returned data.

LANGUAGE: graphql
CODE:
mutation CreateReviewForEpisode($ep: Episode!, $review: ReviewInput!) {
  createReview(episode: $ep, review: $review) {
    stars
    commentary
  }
}

----------------------------------------

TITLE: Querying GraphQL with SwiftGraphQL in Swift
DESCRIPTION: This snippet demonstrates how to use SwiftGraphQL to define a model, create a selection, construct a query, and send it to a GraphQL endpoint. It showcases the library's type-safe approach to building GraphQL queries in Swift.

LANGUAGE: swift
CODE:
import SwiftGraphQL

// Define a Swift model.
struct Human: Identifiable {
    let id: String
    let name: String
    let homePlanet: String?
}

// Create a selection.
let human = Selection.Human {
    Human(
        id: try $0.id(),
        name: try $0.name(),
        homePlanet: try $0.homePlanet()
    )
}

// Construct a query.
let query = Selection.Query {
    try $0.humans(human.list)
}

// Perform the query.
send(query, to: "http://swift-graphql.heroku.com") { result in
    if let data = try? result.get() {
        print(data) // [Human]
    }
}

----------------------------------------

TITLE: Defining a GraphQL Interface Type in JavaScript
DESCRIPTION: Example of creating a GraphQLInterfaceType for an Entity with a name field.

LANGUAGE: javascript
CODE:
var EntityType = new GraphQLInterfaceType({
  name: "Entity",
  fields: {
    name: { type: GraphQLString }
  }
})

----------------------------------------

TITLE: Writing a GraphQL Subscription Operation
DESCRIPTION: Shows how to write a GraphQL subscription operation using the 'subscription' keyword and selecting fields from the subscribed type.

LANGUAGE: graphql
CODE:
subscription NewReviewCreated {
  reviewCreated {
    rating
    commentary
  }
}

----------------------------------------

TITLE: Simple Field Query
DESCRIPTION: Demonstrates querying a single field (name) from the hero object.

LANGUAGE: graphql
CODE:
{
  hero {
    name
  }
}

----------------------------------------

TITLE: Querying GraphQL API using gql_client in Rust
DESCRIPTION: This snippet demonstrates how to use the gql_client crate to make a GraphQL query. It creates a client, defines a query to fetch post IDs, and executes the query asynchronously.

LANGUAGE: rust
CODE:
use gql_client::Client;

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
  let endpoint = "https://graphqlzero.almansi.me/api";
  let query = r#"
    query AllPostsQuery {
      posts {
        data {
          id
        }
      }
    }
  "#;

  let client = Client::new(endpoint);
  let data: AllPosts = client.query::<AllPosts>(query).await.unwrap();

  println!("{:?}" data);

  Ok(())
}

----------------------------------------

TITLE: Defining a Custom Scalar Type in JavaScript
DESCRIPTION: Example of creating a custom scalar type 'Odd' with serialization and parsing functions.

LANGUAGE: javascript
CODE:
var OddType = new GraphQLScalarType({
  name: "Odd",
  serialize: oddValue,
  parseValue: oddValue,
  parseLiteral(ast) {
    if (ast.kind === Kind.INT) {
      return oddValue(parseInt(ast.value, 10))
    }
    return null
  }
})

function oddValue(value) {
  return value % 2 === 1 ? value : null
}

----------------------------------------

TITLE: Complete GraphQL Connection Query
DESCRIPTION: Full connection model query including pagination metadata, total count, and page information.

LANGUAGE: graphql
CODE:
query {
  hero {
    name
    friends(first: 2) {
      totalCount
      edges {
        node {
          name
        }
        cursor
      }
      pageInfo {
        endCursor
        hasNextPage
      }
    }
  }
}

----------------------------------------

TITLE: Basic Query Type Definition
DESCRIPTION: Defines a simple hero field on the Query type that returns a Character object.

LANGUAGE: graphql
CODE:
type Query {
  hero: Character
}

----------------------------------------

TITLE: Defining and Executing a GraphQL Query with Caliban in Scala
DESCRIPTION: This snippet demonstrates how to define a GraphQL query using Scala and Caliban, and then execute it using the sttp client. It retrieves a list of characters with their names, nicknames, and origins.

LANGUAGE: scala
CODE:
// define your query using Scala
val query: SelectionBuilder[RootQuery, List[CharacterView]] =
  Query.characters {
    (Character.name ~ Character.nicknames ~ Character.origin)
      .mapN(CharacterView)
  }

import sttp.client3._
// run the query and get the result already parsed into a case class
val result = query.toRequest(uri"http://someUrl").send(HttpClientSyncBackend()).body

----------------------------------------

TITLE: Validating Literal Values for GraphQL Types in TypeScript
DESCRIPTION: Function signature for isValidLiteralValue, which checks if a value literal AST is valid for a given GraphQL input type.

LANGUAGE: typescript
CODE:
function isValidLiteralValue(
  type: GraphQLInputType,
  valueAST: Value
): string[]

----------------------------------------

TITLE: GraphQL Cursor-Based Pagination Query
DESCRIPTION: Advanced query implementing cursor-based pagination with edges and nodes pattern.

LANGUAGE: graphql
CODE:
query {
  hero {
    name
    friends(first: 2) {
      edges {
        node {
          name
        }
        cursor
      }
    }
  }
}

----------------------------------------

TITLE: Authenticated GraphQL Mutation with Validation
DESCRIPTION: GraphQL mutation that demonstrates user authentication, JWT claim injection, and JSON Schema validation for creating a post with user association.

LANGUAGE: graphql
CODE:
mutation (
  $name: String! @fromClaim(name: NAME)
  $email: String! @fromClaim(name: EMAIL)
  $message: String! @jsonSchema(pattern: "^[a-zA-Z 0-9]+$")
) {
  createOnepost(
    data: {
      message: $message
      user: {
        connectOrCreate: {
          where: { email: $email }
          create: { email: $email, name: $name }
        }
      }
    }
  ) {
    id
    message
    user {
      id
      name
    }
  }
}

----------------------------------------

TITLE: Query with Variables
DESCRIPTION: Demonstrates how to use variables in a query for dynamic values.

LANGUAGE: graphql
CODE:
query HeroNameAndFriends($episode: Episode) {
  hero(episode: $episode) {
    name
    friends {
      name
    }
  }
}

----------------------------------------

TITLE: Building Client Schema from Introspection Query in TypeScript
DESCRIPTION: Function signature for buildClientSchema, which creates a GraphQLSchema from an introspection query result for client-side use.

LANGUAGE: typescript
CODE:
function buildClientSchema(
  introspection: IntrospectionQuery
): GraphQLSchema

----------------------------------------

TITLE: Configuring GraphQLBox Client
DESCRIPTION: Initializes a GraphQLBox client with persisted caching using IndexedDB, request batching, debugging capabilities, and request parsing. The setup includes cache management configuration, debug logging, and fetch management settings.

LANGUAGE: javascript
CODE:
import Cachemap from "@cachemap/core"
import indexedDB from "@cachemap/indexed-db"
import reaper from "@cachemap/reaper"
import CacheManager from "@graphql-box/cache-manager"
import Client from "@graphql-box/client"
import DebugManager from "@graphql-box/debug-manager"
import FetchManager from "@graphql-box/fetch-manager"
import RequestParser from "@graphql-box/request-parser"
import introspection from "./introspection-query"

const requestManager = new FetchManager({
  apiUrl: "/api/graphql",
  batchRequests: true,
  logUrl: "/log/graphql",
})

const client = new Client({
  cacheManager: new CacheManager({
    cache: new Cachemap({
      name: "client-cache",
      reaper: reaper({ interval: 300000 }),
      store: indexedDB(/* configure */),
    }),
    cascadeCacheControl: true,
    typeCacheDirectives: {
      // Add any type specific cache control directives in the format:
      // TypeName: "public, max-age=3",
    },
  }),
  debugManager: new DebugManager({
    environment: "client",
    log: (message, data, logLevel) => {
      requestManager.log(message, data, logLevel)
    },
    name: "CLIENT",
    performance: self.performance,
  }),
  requestManager,
  requestParser: new RequestParser({ introspection }),
})

// Meanwhile... somewhere else in your code

const { data, errors } = await client.request(queryOrMutation)

----------------------------------------

TITLE: Executing GraphQL Mutation with Input Type
DESCRIPTION: This GraphQL mutation demonstrates how to create a new message using the createMessage mutation with an input type.

LANGUAGE: graphql
CODE:
mutation {
  createMessage(input: {
    author: "andy",
    content: "hope is a good thing",
  }) {
    id
  }
}

----------------------------------------

TITLE: Starship Type with Arguments
DESCRIPTION: Example showing field arguments with default values and type definitions

LANGUAGE: graphql
CODE:
type Starship {
  id: ID!
  name: String!
  length(unit: LengthUnit = METER): Float
}

----------------------------------------

TITLE: Query with Aliases
DESCRIPTION: Shows how to use aliases to query the same field multiple times with different arguments.

LANGUAGE: graphql
CODE:
query {
  empireHero: hero(episode: EMPIRE) {
    name
  }
  jediHero: hero(episode: JEDI) {
    name
  }
}

----------------------------------------

TITLE: Sending GraphQL Query with Variables via Browser Fetch API
DESCRIPTION: Demonstrates how to send a GraphQL query with variables using the browser's fetch API. This example constructs a query with variables for dice rolling and sends it as a POST request with a JSON body containing both the query and variables.

LANGUAGE: js
CODE:
var dice = 3
var sides = 6
var query = /* GraphQL */`query RollDice($dice: Int!, $sides: Int) {
  rollDice(numDice: $dice, numSides: $sides)
}`

fetch("/graphql", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    Accept: "application/json",
  },
  body: JSON.stringify({
    query,
    variables: { dice, sides },
  }),
})
  .then(r => r.json())
  .then(data => console.log("data returned:", data))

----------------------------------------

TITLE: Executing GraphQL Mutation with Variables in JavaScript
DESCRIPTION: This JavaScript code shows how to execute a GraphQL mutation with variables using the fetch API, demonstrating client-side mutation execution.

LANGUAGE: javascript
CODE:
var author = "andy"
var content = "hope is a good thing"
var query = /* GraphQL */`mutation CreateMessage($input: MessageInput) {
  createMessage(input: $input) {
    id
  }
}`

fetch("/graphql", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    Accept: "application/json",
  },
  body: JSON.stringify({
    query,
    variables: {
      input: {
        author,
        content,
      },
    },
  }),
})
  .then(r => r.json())
  .then(data => console.log("data returned:", data))

----------------------------------------

TITLE: Defining Product Subgraph Schema in GraphQL
DESCRIPTION: This snippet shows the GraphQL schema for a Product subgraph, defining the Product type with key fields for federation.

LANGUAGE: graphql
CODE:
type Product @key(fields: "id") {
  id: ID!
  title: String!
  price: Float!
  inStock: Boolean!
}

----------------------------------------

TITLE: Executing a DeleteStarship Mutation in GraphQL
DESCRIPTION: This example shows how to execute a mutation to delete a starship. It demonstrates the use of a variable for the starship ID.

LANGUAGE: graphql
CODE:
mutation DeleteStarship($id: ID!) { 
  deleteStarship(id: $id)
}

----------------------------------------

TITLE: Sending GraphQL Query via Browser Fetch API
DESCRIPTION: Illustrates how to send a GraphQL query using the browser's fetch API. This example sends a POST request with the appropriate headers and a JSON body containing the query.

LANGUAGE: js
CODE:
fetch("/graphql", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    Accept: "application/json",
  },
  body: JSON.stringify({ query: "{ hello }" }),
})
  .then(r => r.json())
  .then(data => console.log("data returned:", data))

----------------------------------------

TITLE: Querying Schema Types in GraphQL
DESCRIPTION: Shows how to use the __schema field to query all available types in a GraphQL schema.

LANGUAGE: graphql
CODE:
query {
  __schema {
    types {
      name
    }
  }
}

----------------------------------------

TITLE: Node Interface Definition in GraphQL
DESCRIPTION: Definition of the Node interface that provides a globally unique ID field.

LANGUAGE: graphql
CODE:
# An object with a Globally Unique ID
interface Node {
  # The ID of the object.
  id: ID!
}

----------------------------------------

TITLE: GraphQL Cursor-Based Connection Query
DESCRIPTION: Example query demonstrating cursor-based pagination using the friendsConnection field with after parameter.

LANGUAGE: graphql
CODE:
query {
  hero {
    name
    friendsConnection(first: 2, after: "Y3Vyc29yMQ==") {
      totalCount
      edges {
        node {
          name
        }
        cursor
      }
      pageInfo {
        endCursor
        hasNextPage
      }
    }
  }
}

----------------------------------------

TITLE: Showing GraphQL Query Batching
DESCRIPTION: This snippet illustrates how multiple GraphQL queries can be batched in a single request. While batching can be useful for reducing round trips, it also demonstrates why batch limiting is necessary to prevent abuse.

LANGUAGE: graphql
CODE:
query NewHopeHero {
  hero(episode: NEWHOPE) {
    name
  }
}
query EmpireHero {
  hero(episode: EMPIRE) {
    name
  }
}
### ...
query JediHero {
  hero(episode: JEDI) {
    name
  }
}

----------------------------------------

TITLE: Querying Type Fields in GraphQL
DESCRIPTION: Demonstrates how to query the fields of a specific type (Droid) including their names and types.

LANGUAGE: graphql
CODE:
query {
  __type(name: "Droid") {
    name
    fields {
      name
      type {
        name
        kind
        ofType {
          name
          kind
        }
      }
    }
  }
}

----------------------------------------

TITLE: GraphQL Schema for Dice Rolling
DESCRIPTION: Defines a GraphQL schema for a dice rolling query. The schema includes a rollDice field that takes numDice and numSides as arguments and returns an array of integers.

LANGUAGE: graphql
CODE:
type Query {
  rollDice(numDice: Int!, numSides: Int): [Int]
}

----------------------------------------

TITLE: GraphQL Query with Pagination Limit
DESCRIPTION: Query showing how to limit the number of friends returned using the first parameter.

LANGUAGE: graphql
CODE:
query {
  hero {
    name
    friends(first: 2) {
      name
    }
  }
}

----------------------------------------

TITLE: Nested Field Query
DESCRIPTION: Shows how to query nested fields, retrieving both hero name and their friends' names.

LANGUAGE: graphql
CODE:
{
  hero {
    name
    friends {
      name
    }
  }
}

----------------------------------------

TITLE: Querying Specific Type Information in GraphQL
DESCRIPTION: Shows how to query detailed information about a specific type (Droid) in a GraphQL schema.

LANGUAGE: graphql
CODE:
query {
  __type(name: "Droid") {
    name
    kind
  }
}

----------------------------------------

TITLE: Defining an UpdateHumanName Mutation in GraphQL Schema
DESCRIPTION: This example shows how to define a mutation for updating a human's name in the GraphQL schema. It demonstrates the use of ID and String input types.

LANGUAGE: graphql
CODE:
type Mutation {
  updateHumanName(id: ID!, name: String!): Human
}

----------------------------------------

TITLE: Querying Type Documentation in GraphQL
DESCRIPTION: Shows how to query the documentation for a specific type (Droid) using introspection.

LANGUAGE: graphql
CODE:
query {
  __type(name: "Droid") {
    name
    description
  }
}

----------------------------------------

TITLE: Basic GraphQL List Query
DESCRIPTION: Simple query demonstrating how to fetch a list of friends for a hero character.

LANGUAGE: graphql
CODE:
query {
  hero {
    name
    friends {
      name
    }
  }
}

----------------------------------------

TITLE: Querying Objects with Global IDs in GraphQL
DESCRIPTION: Demonstrates how to query objects using globally unique identifiers in GraphQL. The example shows querying both a starship and droid object, including their IDs, names, and relationships.

LANGUAGE: graphql
CODE:
# { "graphiql": true }
query {
  starship(id: "3003") {
    id
    name
  }
  droid(id: "2001") {
    id
    name
    friends {
      id
      name
    }
  }
}

----------------------------------------

TITLE: Generated Kotlin Class for GraphQL Query
DESCRIPTION: This snippet demonstrates the auto-generated Kotlin class for the 'HelloWorldQuery'. It implements the GraphQLClientRequest interface and includes the query string and result data class.

LANGUAGE: kotlin
CODE:
package com.example.generated

import com.expediagroup.graphql.client.types.GraphQLClientRequest
import kotlin.String
import kotlin.reflect.KClass

const val HELLO_WORLD_QUERY: String = "query HelloWorldQuery {\n    helloWorld\n}"

class HelloWorldQuery: GraphQLClientRequest<HelloWorldQuery.Result> {
    override val query: String = HELLO_WORLD_QUERY

    override val operationName: String = "HelloWorldQuery"

    override fun responseType(): KClass<HelloWorldQuery.Result> = HelloWorldQuery.Result::class

    data class Result(
        val helloWorld: String
    }
}

----------------------------------------

TITLE: Defining GraphQL Lexer Function and Types
DESCRIPTION: Declaration of the lex function and associated types for lexing a GraphQL Source. The Lexer function returns Token objects representing lexical units in the source.

LANGUAGE: typescript
CODE:
function lex(source: Source): Lexer;

type Lexer = (resetPosition?: number) => Token;

export type Token = {
  kind: number;
  start: number;
  end: number;
  value: string;
};

----------------------------------------

TITLE: Querying Type Names with __typename in GraphQL
DESCRIPTION: Demonstrates how to use the __typename meta-field to get the string value of type names in a Union type query result.

LANGUAGE: graphql
CODE:
query {
  search(text: "an") {
    __typename
    ... on Character {
      name
    }
    ... on Starship {
      name
    }
  }
}

----------------------------------------

TITLE: Executing Multiple Mutation Fields in GraphQL
DESCRIPTION: This snippet demonstrates how to execute multiple mutation fields in a single request. It shows the serial execution of two deleteStarship mutations.

LANGUAGE: graphql
CODE:
mutation { 
  firstShip: deleteStarship(id: "3001")
  secondShip: deleteStarship(id: "3002")
}

----------------------------------------

TITLE: Querying Node by ID in GraphQL
DESCRIPTION: Example of querying an object by its ID using the node field and interface fragments to access type-specific fields.

LANGUAGE: graphql
CODE:
{
  node(id: "4") {
    id
    ... on User {
      name
    }
  }
}

----------------------------------------

TITLE: Using @stream Directive in GraphQL Query
DESCRIPTION: Demonstrates how to use the @stream directive in a GraphQL query to stream list field results. The example shows a query for a person's name and films, with the films list being streamed.

LANGUAGE: graphql
CODE:
query {
  person(id: "cGVvcGxlOjE=") {
    name
    films @stream(initialCount: 2, label: "filmsStream") {
      title
    }
  }
}

----------------------------------------

TITLE: Node Interface Introspection Query
DESCRIPTION: GraphQL introspection query to verify correct implementation of the Node interface.

LANGUAGE: graphql
CODE:
{
  __type(name: "Node") {
    name
    kind
    fields {
      name
      type {
        kind
        ofType {
          name
          kind
        }
      }
    }
  }
}

LANGUAGE: json
CODE:
{
  "__type": {
    "name": "Node",
    "kind": "INTERFACE",
    "fields": [
      {
        "name": "id",
        "type": {
          "kind": "NON_NULL",
          "ofType": {
            "name": "ID",
            "kind": "SCALAR"
          }
        }
      }
    ]
  }
}

----------------------------------------

TITLE: Defining a DeleteStarship Mutation in GraphQL Schema
DESCRIPTION: This snippet demonstrates how to define a mutation for deleting a starship in the GraphQL schema. It shows the use of an ID input and return type.

LANGUAGE: graphql
CODE:
type Mutation {
  deleteStarship(id: ID!): ID!
}

----------------------------------------

TITLE: Field Stability Example Query
DESCRIPTION: Example demonstrating field stability when querying the same object through different paths.

LANGUAGE: graphql
CODE:
{
  fourNode: node(id: "4") {
    id
    ... on User {
      name
      userWithIdOneGreater {
        id
        name
      }
    }
  }
  fiveNode: node(id: "5") {
    id
    ... on User {
      name
      userWithIdOneLess {
        id
        name
      }
    }
  }
}

LANGUAGE: json
CODE:
{
  "fourNode": {
    "id": "4",
    "name": "Mark Zuckerberg",
    "userWithIdOneGreater": {
      "id": "5",
      "name": "Chris Hughes"
    }
  },
  "fiveNode": {
    "id": "5",
    "name": "Chris Hughes",
    "userWithIdOneLess": {
      "id": "4",
      "name": "Mark Zuckerberg"
    }
  }
}

----------------------------------------

TITLE: Invalid Field Query in GraphQL
DESCRIPTION: Demonstrates an invalid GraphQL query that attempts to request a non-existent field 'favoriteSpaceship' on the Character type.

LANGUAGE: graphql
CODE:
query {
  hero {
    favoriteSpaceship
  }
}

----------------------------------------

TITLE: User Type Implementation of Node Interface
DESCRIPTION: Example of a User type implementing the Node interface with additional fields.

LANGUAGE: graphql
CODE:
type User implements Node {
  id: ID!
  # Full name
  name: String!
}

----------------------------------------

TITLE: Executing an UpdateHumanName Mutation in GraphQL
DESCRIPTION: This snippet demonstrates how to execute a mutation to update a human's name. It shows the use of variables and selection of fields from the returned Human type.

LANGUAGE: graphql
CODE:
mutation UpdateHumanName($id: ID!, $name: String!) { 
  updateHumanName(id: $id, name: $name ) {
    id
    name
  }
}

----------------------------------------

TITLE: Implementing GraphQL Server in Mu-Haskell
DESCRIPTION: Creates a GraphQL server for a library system with auto-generated schema types. Defines resolvers for Book and Author types, along with Query, Mutation, and Subscription operations. Uses type-level programming to ensure type safety and schema compliance.

LANGUAGE: haskell
CODE:
{-# LANGUAGE DataKinds #-}
{-# LANGUAGE NamedFieldPuns #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE PartialTypeSignatures #-}
{-# LANGUAGE TypeApplications #-}
{-# LANGUAGE TypeFamilies #-}
{-# LANGUAGE TypeOperators #-}

-- imports omitted for brevity...

graphql "Library" "library.graphql" -- all the magic happens here! ðŸª„ðŸŽ©

-- ... a bit more code...

libraryServer :: SqlBackend -> ServerT ObjectMapping i Library ServerErrorIO _
libraryServer conn =
  resolver
    ( object @"Book"
        ( field @"id" bookId,
          field @"title" bookTitle,
          field @"author" bookAuthor,
          field @"imageUrl" bookImage
        ),
      object @"Author"
        ( field @"id" authorId,
          field @"name" authorName,
          field @"books" authorBooks
        ),
      object @"Query"
        ( method @"authors" allAuthors,
          method @"books" allBooks
        ),
      object @"Mutation"
        ( method @"newAuthor" newAuthor,
          method @"newBook" newBook
        ),
      object @"Subscription"
        (method @"allBooks" allBooksConduit)
    )
  where
    bookId :: Entity Book -> ServerErrorIO Integer
    bookId (Entity (BookKey k) _) = pure $ toInteger k
    -- ... more resolvers...

----------------------------------------

TITLE: GraphQL Server Response
DESCRIPTION: Shows the expected JSON response from the GraphQL server for the hello query. The response includes a data object with the hello field.

LANGUAGE: json
CODE:
{"data":{"hello":"Hello world!"}}

----------------------------------------

TITLE: Defining User Subgraph Schema in GraphQL
DESCRIPTION: This snippet shows the GraphQL schema for a User subgraph, including Query type, User type, and a reference to the Order type.

LANGUAGE: graphql
CODE:
type Query {
  user(id: ID!): User
}

type User {
  id: ID!
  name: String!
  email: String
  orders: [Order!]!
}

type Order {
  id: ID!
}

----------------------------------------

TITLE: Querying Query Type in GraphQL Schema
DESCRIPTION: Demonstrates how to query the root query type of a GraphQL schema using introspection.

LANGUAGE: graphql
CODE:
query {
  __schema {
    queryType {
      name
    }
  }
}

----------------------------------------

TITLE: Querying the Pylon GraphQL API
DESCRIPTION: Example GraphQL queries and mutations for the user management service. Includes queries to fetch a single user, all users, and a mutation to add a new user.

LANGUAGE: graphql
CODE:
query User {
  user(name: "Alice") {
    name
    email
  }
}

query Users {
  users {
    name
    email
  }
}

mutation AddUser {
  addUser(name: "Corina", email: "corina@example.com") {
    name
    email
  }
}

----------------------------------------

TITLE: Defining DateTime Scalar with SpecifiedBy Directive in GraphQL
DESCRIPTION: This snippet demonstrates how to define a DateTime scalar in a GraphQL schema using the @specifiedBy directive to point to the official specification URL.

LANGUAGE: graphql
CODE:
scalar DateTime
  @specifiedBy(url: "https://scalars.graphql.org/andimarek/date-time")

----------------------------------------

TITLE: Importing from GraphQL Language Module in JavaScript
DESCRIPTION: Demonstrates how to import the Source class from the GraphQL language module using both ES6 and CommonJS syntax.

LANGUAGE: javascript
CODE:
import { Source } from "graphql" // ES6
var { Source } = require("graphql") // CommonJS

----------------------------------------

TITLE: List Field Resolver
DESCRIPTION: Resolver function handling a list of promises for starships data.

LANGUAGE: javascript
CODE:
function Human_starships (obj, args, context, info) {
  return obj.starshipIDs.map(
    id => context.db.loadStarshipByID(id).then(
      shipData => new Starship(shipData)
    )
  )
}

----------------------------------------

TITLE: Simple Name Field Resolver
DESCRIPTION: Trivial resolver function for accessing the name property of a Human object.

LANGUAGE: javascript
CODE:
function Human_name(obj, args, context, info) {
  return obj.name
}

----------------------------------------

TITLE: Implementing GraphQL Shield Permissions in TypeScript
DESCRIPTION: This snippet demonstrates how to use GraphQL Shield to create a permission layer for a GraphQL application. It includes defining authentication and role-based rules, setting up permissions for queries and mutations, and integrating the permissions into a GraphQL server.

LANGUAGE: typescript
CODE:
import { rule, shield, and, or, not } from "graphql-shield"

// Rules

const isAuthenticated = rule({ cache: "contextual" })(async (
  parent,
  args,
  ctx,
  info,
) => {
  return ctx.user !== null
})

const isAdmin = rule({ cache: "contextual" })(async (
  parent,
  args,
  ctx,
  info,
) => {
  return ctx.user.role === "admin"
})

const isEditor = rule({ cache: "contextual" })(async (
  parent,
  args,
  ctx,
  info,
) => {
  return ctx.user.role === "editor"
})

// Permissions

const permissions = shield({
  Query: {
    frontPage: not(isAuthenticated),
    fruits: and(isAuthenticated, or(isAdmin, isEditor)),
    customers: and(isAuthenticated, isAdmin),
  },
  Mutation: {
    addFruitToBasket: isAuthenticated,
  },
  Fruit: isAuthenticated,
  Customer: isAdmin,
})

// Server

const server = new GraphQLServer({
  typeDefs,
  resolvers,
  middlewares: [permissions],
  context: req => ({
    ...req,
    user: getUser(req),
  }),
})

----------------------------------------

TITLE: Invalid Recursive Fragment Query in GraphQL
DESCRIPTION: Shows an invalid query that creates a cyclic fragment reference, which could result in unbounded execution.

LANGUAGE: graphql
CODE:
query {
  hero {
    ...NameAndAppearancesAndFriends
  }
}

fragment NameAndAppearancesAndFriends on Character {
  name
  appearsIn
  friends {
    ...NameAndAppearancesAndFriends
  }
}

----------------------------------------

TITLE: Enum Field Resolver
DESCRIPTION: Resolver showing scalar coercion for the appearsIn field returning enum values.

LANGUAGE: javascript
CODE:
Human: {
  appearsIn(obj) {
    return obj.appearsIn // returns [ 4, 5, 6 ]
  }
}

----------------------------------------

TITLE: Business Layer Authorization Implementation
DESCRIPTION: Recommended approach for implementing authorization logic in the business layer using a repository pattern

LANGUAGE: javascript
CODE:
export const postRepository = {
  getBody({ user, post }) {
    if (user?.id && (user.id === post.authorId)) {
      return post.body
    }
    return null
  }
}

----------------------------------------

TITLE: Implementing a GraphQL Client in Ballerina
DESCRIPTION: This code snippet demonstrates how to create and use a GraphQL client in Ballerina. It connects to a local GraphQL server, executes a simple query, and prints the response. The example showcases the use of the graphql:Client and custom response type definitions.

LANGUAGE: ballerina
CODE:
import ballerina/graphql;
import ballerina/io;

type Response record {
    record { string hello; } data;
};

public function main() returns error? {
    graphql:Client helloClient = check new ("localhost:9090/graphql");
    string document = "{ hello }";
    Response response = check helloClient->execute(document);
    io:println(response.data.hello);
}

----------------------------------------

TITLE: Valid Nested Fragment Query in GraphQL
DESCRIPTION: Demonstrates a valid query using fragments for field reuse in nested queries.

LANGUAGE: graphql
CODE:
query {
  hero {
    ...NameAndAppearances
    friends {
      ...NameAndAppearances
      friends {
        ...NameAndAppearances
      }
    }
  }
}

fragment NameAndAppearances on Character {
  name
  appearsIn
}

----------------------------------------

TITLE: Root Query Resolver Implementation
DESCRIPTION: JavaScript resolver function for the human query field that loads data from a database.

LANGUAGE: javascript
CODE:
function Query_human(obj, args, context, info) {
  return context.db.loadHumanByID(args.id).then(
    userData => new Human(userData)
  )
}

----------------------------------------

TITLE: Running Schemathesis Docker Container
DESCRIPTION: Command to execute Schemathesis against a GraphQL endpoint using Docker. The tool will automatically generate and test queries based on the GraphQL schema.

LANGUAGE: bash
CODE:
docker run schemathesis/schemathesis \
  run https://your.app.com/graphql

----------------------------------------

TITLE: Executing Hello World GraphQL Query with graphql-clj
DESCRIPTION: Sets up a basic GraphQL schema with a single 'hello' query field that returns a string. Implements a resolver function that maps the query to a handler, and executes the query using the graphql-clj executor.

LANGUAGE: clojure
CODE:
(def schema "type QueryRoot {\n    hello: String\n  }")\n\n(defn resolver-fn [type-name field-name]\n  (get-in {"QueryRoot" {"hello" (fn [context parent & rest]\n                              "Hello world!")}}\n          [type-name field-name]))\n\n(require '[graphql-clj.executor :as executor])\n\n(executor/execute nil schema resolver-fn "{ hello }")

----------------------------------------

TITLE: GraphQL Variable Type Error Example
DESCRIPTION: Illustrates a validation error when using incorrect variable types for field arguments.

LANGUAGE: graphql
CODE:
query HeroForEpisode($ep: String!) {
  hero(episode: $ep) {
    name
  }
}

----------------------------------------

TITLE: Defining GraphQL Schema Types
DESCRIPTION: Example schema defining Query, Human, Episode enum and Starship types to demonstrate field resolution.

LANGUAGE: graphql
CODE:
type Query {
  human(id: ID!): Human
}

type Human {
  name: String
  appearsIn: [Episode]
  starships: [Starship]
}

enum Episode {
  NEWHOPE
  EMPIRE
  JEDI
}

type Starship {
  name: String
}

----------------------------------------

TITLE: Installing Dgraph Using Docker
DESCRIPTION: Docker commands to pull and run Dgraph standalone instance with appropriate port mappings and volume mounting.

LANGUAGE: bash
CODE:
docker pull dgraph/standalone
mkdir -p ~/dgraph
docker run -it -p 5080:5080 -p 6080:6080 -p 8080:8080 \
  -p 9080:9080 -p 8000:8000 -v ~/dgraph:/dgraph --name dgraph \
  dgraph/standalone:master

----------------------------------------

TITLE: Installing Django Graphbox via pip
DESCRIPTION: Command to install the Django Graphbox package using pip.

LANGUAGE: bash
CODE:
pip install django-graphbox

----------------------------------------

TITLE: GraphQL Mutation with Partial Error Example
DESCRIPTION: Shows how GraphQL handles multiple operations where one succeeds and another fails, demonstrating partial responses.

LANGUAGE: graphql
CODE:
mutation {
  firstShip: deleteStarship(id: "3001")
  secondShip: deleteStarship(id: "3010")
}

----------------------------------------

TITLE: Authorization in Field Resolver
DESCRIPTION: Example of direct authorization implementation in a GraphQL resolver (not recommended for production)

LANGUAGE: javascript
CODE:
function Post_body(obj, args, context, info) {
  // return the post body only if the user is the post's author
  if (context.user && (context.user.id === obj.authorId)) {
    return obj.body
  }
  return null
}

----------------------------------------

TITLE: Defining and Executing a GraphQL Query with Cynic in Rust
DESCRIPTION: This snippet demonstrates how to define a GraphQL query using Cynic's derive macros, create argument structures, and execute the query using a blocking HTTP client. It queries the Star Wars API for film and director information.

LANGUAGE: rust
CODE:
#[derive(cynic::QueryFragment, Debug)]
#[cynic(
    schema_path = "../schemas/starwars.schema.graphql",
    query_module = "query_dsl",
    graphql_type = "Root",
    argument_struct = "FilmArguments"
)]
struct FilmDirectorQuery {
    #[arguments(id = &args.id)]
    film: Option<Film>,
}

#[derive(cynic::QueryFragment, Debug)]
#[cynic(
    schema_path = "../schemas/starwars.schema.graphql",
    query_module = "query_dsl",
    graphql_type = "Film"
)]
struct Film {
    title: Option<String>,
    director: Option<String>,
}

#[derive(cynic::FragmentArguments)]
struct FilmArguments {
    id: Option<cynic::Id>,
}

fn main() {
    use cynic::{QueryBuilder, http::ReqwestBlockingExt};

    let query = FilmDirectorQuery::build(&FilmArguments {
        id: Some("ZmlsbXM6MQ==".into()),
    })

    reqwest::blocking::Client::new()
        .post("https://swapi-graphql.netlify.com/.netlify/functions/index")
        .run_graphql(query)
        .unwrap()
}

mod query_dsl {
    cynic::query_dsl!("../schemas/starwars.schema.graphql");
}

----------------------------------------

TITLE: Creating a new Django app
DESCRIPTION: Commands to navigate to the project directory and create a new Django app.

LANGUAGE: bash
CODE:
cd myproject
python manage.py startapp myapp

----------------------------------------

TITLE: Valid Multi-Operation GraphQL Subscription Document
DESCRIPTION: Demonstrates a valid GraphQL document with multiple named subscription operations, each with a single root field.

LANGUAGE: graphql
CODE:
subscription NewReviewCreated {
  reviewCreated {
    rating
    commentary
  }
}
subscription FriendListUpdated($id: ID!) {
  humanFriendsUpdated(id: $id) {
    name
    friends {
      name
    }
  }
}

----------------------------------------

TITLE: Story Like Data Fragment in GraphQL
DESCRIPTION: GraphQL fragment showing the structure of story like data that needs to be monitored for changes.

LANGUAGE: graphql
CODE:
fragment StoryLikeData on Story {
  story {
    likers { count }
    likeSentence { text }
  }
}

----------------------------------------

TITLE: GraphQL Specified Rules Definition
DESCRIPTION: TypeScript definition of the specifiedRules array that contains all standard validation rules defined in the GraphQL specification.

LANGUAGE: typescript
CODE:
let specifiedRules: Array<(context: ValidationContext) => any>

----------------------------------------

TITLE: Running Django development server
DESCRIPTION: Command to start the Django development server.

LANGUAGE: bash
CODE:
python manage.py runserver

----------------------------------------

TITLE: Adding Review Mutation
DESCRIPTION: GraphQL mutation to create a review linking a customer to a product with rating and comment.

LANGUAGE: graphql
CODE:
mutation {
  addReview(
    input: [
      {
        by: { username: "TonyStark" }
        about: { name: "Dgraph" }
        comment: "Fantastic, easy to install, worked great. Best GraphQL server available"
        rating: 10
      }
    ]
  ) {
    review {
      id
      comment
      rating
      by {
        username
      }
      about {
        id
        name
      }
    }
  }
}

----------------------------------------

TITLE: Sending GraphQL Query via Curl
DESCRIPTION: Demonstrates how to send a simple GraphQL query using curl from the command line. This example sends a POST request to a local GraphQL server with a JSON payload containing the query.

LANGUAGE: bash
CODE:
curl -X POST \
-H "Content-Type: application/json" \
-d '{"query": "{ hello }"}' \
http://localhost:4000/graphql

----------------------------------------

TITLE: Printing GraphQL Schema in TypeScript
DESCRIPTION: Function signature for printSchema, which converts a GraphQLSchema object to a string in the Schema Language format.

LANGUAGE: typescript
CODE:
function printSchema(schema: GraphQLSchema): string

----------------------------------------

TITLE: Adding GraphQL view to Django URLs
DESCRIPTION: Configuration to add the GraphQL view to the project's URLs in myproject/urls.py.

LANGUAGE: python
CODE:
from django.urls import path
from graphene_file_upload.django import FileUploadGraphQLView
from django.views.decorators.csrf import csrf_exempt
from myproject.schema import schema

urlpatterns = [
    path('graphql/', csrf_exempt(FileUploadGraphQLView.as_view(graphiql=True, schema=schema))),
]

----------------------------------------

TITLE: Querying Reviews with Filters
DESCRIPTION: Complex GraphQL query demonstrating filtering, text search, and nested relationships with ordering.

LANGUAGE: graphql
CODE:
query {
  queryReview(
    filter: { comment: { alloftext: "server easy install" }, rating: { gt: 5 } }
  ) {
    comment
    by {
      username
      reviews(order: { desc: rating }, first: 10) {
        about {
          name
          reviews(order: { asc: rating }, first: 5) {
            by {
              username
            }
            comment
            rating
          }
        }
        rating
      }
    }
    about {
      name
    }
  }
}

----------------------------------------

TITLE: Querying User Data with GraphQL
DESCRIPTION: Example GraphQL query demonstrating how to fetch user data including profile information and friend connections. Shows the hierarchical and strongly-typed nature of GraphQL queries.

LANGUAGE: graphql
CODE:
{
  user(id: 4802170) {
    id
    name
    isViewerFriend
    profilePicture(size: 50) {
      uri
      width
      height
    }
    friendConnection(first: 5) {
      totalCount
      friends {
        id
        name
      }
    }
  }
}

----------------------------------------

TITLE: Defining GraphQL Object Types in JavaScript
DESCRIPTION: Examples of creating GraphQLObjectType for Address and Person, demonstrating field definitions and circular references.

LANGUAGE: javascript
CODE:
var AddressType = new GraphQLObjectType({
  name: "Address",
  fields: {
    street: { type: GraphQLString },
    number: { type: GraphQLInt },
    formatted: {
      type: GraphQLString,
      resolve(obj) {
        return obj.number + " " + obj.street
      }
    }
  }
})

var PersonType = new GraphQLObjectType({
  name: "Person",
  fields: () => ({
    name: { type: GraphQLString },
    bestFriend: { type: PersonType }
  })
})

----------------------------------------

TITLE: Running the SWAPI Client Example
DESCRIPTION: Command to execute the Python script containing the SWAPI GraphQL query example

LANGUAGE: bash
CODE:
python swapi_client_example.py

----------------------------------------

TITLE: Defining GraphQL Schema
DESCRIPTION: GraphQL schema definition including Product, Customer, and Review types with relationships and search directives.

LANGUAGE: graphql
CODE:
type Product {
  id: ID!
  name: String! @id
  reviews: [Review] @hasInverse(field: about)
}

type Customer {
  username: String! @id
  reviews: [Review] @hasInverse(field: by)
}

type Review {
  id: ID!
  about: Product!
  by: Customer!
  comment: String @search(by: [fulltext])
  rating: Int @search
}

----------------------------------------

TITLE: GraphQL Execute Function TypeScript Definition
DESCRIPTION: TypeScript interface definition for the execute function, including its parameters and return types. The function executes GraphQL requests on a provided schema and returns an ExecutionResult.

LANGUAGE: typescript
CODE:
export function execute(
  schema: GraphQLSchema,
  documentAST: Document,
  rootValue?: mixed,
  contextValue?: mixed,
  variableValues?: {[key: string]: mixed},
  operationName?: string
): MaybePromise<ExecutionResult>

type MaybePromise<T> = Promise<T> | T;

type ExecutionResult = {
  data: Object;
  errors?: GraphQLError[];
}

----------------------------------------

TITLE: GraphQL Query with Arguments
DESCRIPTION: This snippet shows how to write a GraphQL query that passes arguments to the 'rollDice' query. It demonstrates passing arguments by name in the query.

LANGUAGE: graphql
CODE:
{
  rollDice(numDice: 3, numSides: 6)
}

----------------------------------------

TITLE: Installing Qlient via pip
DESCRIPTION: Command to install the Qlient GraphQL client library using pip package manager

LANGUAGE: bash
CODE:
pip install qlient

----------------------------------------

TITLE: Uploading Schema to Dgraph
DESCRIPTION: cURL command to POST the GraphQL schema to Dgraph's admin endpoint.

LANGUAGE: bash
CODE:
curl -X POST localhost:8080/admin/schema --data-binary '@schema.graphql'

----------------------------------------

TITLE: Invalid Multi-Root Field GraphQL Subscription
DESCRIPTION: Illustrates an invalid GraphQL subscription operation with multiple root fields, which is not allowed in the specification.

LANGUAGE: graphql
CODE:
subscription {
  reviewCreated {
    rating
    commentary
  }
  humanFriendsUpdated {
    name
    friends {
      name
    }
  }
}

----------------------------------------

TITLE: Defining GraphQL Schema with Arguments
DESCRIPTION: This snippet shows how to define a GraphQL schema with a query that accepts arguments. The 'rollDice' query takes two arguments: 'numDice' (required) and 'numSides' (optional).

LANGUAGE: graphql
CODE:
type Query {
  rollDice(numDice: Int!, numSides: Int): [Int]
}

----------------------------------------

TITLE: Using Generated GraphQL Client in Python
DESCRIPTION: Example of using the generated GraphQL client to execute a createToken mutation, handle errors, and extract the authentication token.

LANGUAGE: python
CODE:
from graphql_client import Client

with Client("http://example.com/graphql/") as client:
    result = client.create_token(username="Admin", password="Example123)

    if result.errors:
        error = result.errors[0]
        raise ValidationError({error.field: error.message})

    auth_token = result.token

----------------------------------------

TITLE: Cross-API Join Query in WunderGraph
DESCRIPTION: GraphQL query showcasing WunderGraph's cross-API join capabilities, combining data from countries and weather APIs using internal variables and export directives.

LANGUAGE: graphql
CODE:
query (
  $continent: String!
  # the @internal directive removes the $capital variable from the public API
  # this means, the user can't set it manually
  # this variable is our JOIN key
  $capital: String! @internal
) {
  countries_countries(filter: { continent: { eq: $continent } }) {
    code
    name
    # using the @export directive, we can export the value of the field `capital` into the JOIN key ($capital)
    capital @export(as: "capital")
    # the _join field returns the type Query!
    # it exists on every object type so you can everywhere in your Query documents
    _join {
      # once we're inside the _join field, we can use the $capital variable to join the weather API
      weather_getCityByName(name: $capital) {
        weather {
          temperature {
            max
          }
          summary {
            title
            description
          }
        }
      }
    }
  }
}

----------------------------------------

TITLE: Invalid Scalar Field Selection in GraphQL
DESCRIPTION: Demonstrates an invalid query that attempts to select subfields on a scalar field 'name'.

LANGUAGE: graphql
CODE:
query {
  hero {
    name {
      firstCharacterOfName
    }
  }
}

----------------------------------------

TITLE: Declaring GraphQL ParseValue Function
DESCRIPTION: Function signature for parseValue, which parses a GraphQL value string into an AST. Useful for tools that operate on GraphQL values in isolation.

LANGUAGE: typescript
CODE:
export function parseValue(
  source: Source | string,
  options?: ParseOptions
): Value

----------------------------------------

TITLE: Defining GraphQL Mutation in queries.graphql
DESCRIPTION: Example of a GraphQL mutation for creating a token with username and password inputs. The mutation returns a token and potential errors.

LANGUAGE: graphql
CODE:
mutation CreateToken($username: String!, $password: String!) {
  createToken(username: $username, password: $password) {
    token
    errors {
      field
      message
    }
  }
}

----------------------------------------

TITLE: Executing GraphQL Query with gqt in Bash
DESCRIPTION: This command runs the 'gqt' tool against a specified GraphQL endpoint. It opens an intuitive TUI for building the query, executes it, and outputs the server response to standard output.

LANGUAGE: bash
CODE:
gqt -e https://your.app.com/graphql

----------------------------------------

TITLE: Defining a GraphQL Input Object Type in JavaScript
DESCRIPTION: Example of creating a GraphQLInputObjectType for a GeoPoint with required latitude and longitude fields.

LANGUAGE: javascript
CODE:
var GeoPoint = new GraphQLInputObjectType({
  name: "GeoPoint",
  fields: {
    lat: { type: new GraphQLNonNull(GraphQLFloat) },
    lon: { type: new GraphQLNonNull(GraphQLFloat) },
    alt: { type: GraphQLFloat, defaultValue: 0 },
  },
})

----------------------------------------

TITLE: Defining GraphQL Source Class in TypeScript
DESCRIPTION: Declaration of the Source class constructor, which represents the input string to the GraphQL server. It takes a body string and an optional name parameter.

LANGUAGE: typescript
CODE:
export class Source {
  constructor(body: string, name?: string)
}

----------------------------------------

TITLE: Installing Ariadne Codegen via pip
DESCRIPTION: Command to install Ariadne Codegen using pip package manager.

LANGUAGE: bash
CODE:
$ pip install ariadne-codegen

----------------------------------------

TITLE: Creating a Hello World GraphQL Server with EGGQL in Go
DESCRIPTION: This snippet demonstrates how to create a simple GraphQL server using EGGQL. It sets up an HTTP handler for GraphQL queries and initializes a root Query object with a 'message' field.

LANGUAGE: Go
CODE:
package main

import "github.com/andrewwphillips/eggql"

func main() {
	http.Handle("/graphql", eggql.New(struct{ Message string }{Message: "hello, world"}))
	http.ListenAndServe(":80", nil)
}

----------------------------------------

TITLE: Using GraphQLList in Object Type Fields
DESCRIPTION: Example of using GraphQLList to define fields that are lists of other types.

LANGUAGE: javascript
CODE:
var PersonType = new GraphQLObjectType({
  name: "Person",
  fields: () => ({
    parents: { type: new GraphQLList(PersonType) },
    children: { type: new GraphQLList(PersonType) },
  }),
})

----------------------------------------

TITLE: Rendering Query-Parameterized CodePage Component
DESCRIPTION: React component wrapper that enables query parameter handling for the CodePage component using QueryParamProvider.

LANGUAGE: javascript
CODE:
{<QueryParamProvider adapter={NextAdapter}><CodePage {...props} /></QueryParamProvider>}

----------------------------------------

TITLE: Example GraphQL Query Response
DESCRIPTION: The expected JSON output from running the GraphQL query.

LANGUAGE: json
CODE:
{
  "data": {
    "hello": "Hello world!"
  }
}

----------------------------------------

TITLE: Querying GraphQL Server and Deserializing Response in Julia
DESCRIPTION: This code executes a query to fetch countries, specifying the output field 'name', and deserializes the response into a Vector of Country objects.

LANGUAGE: julia
CODE:
response = query(client, "countries", Vector{Country}, output_fields="name")

----------------------------------------

TITLE: Testing EGGQL GraphQL Server with cURL
DESCRIPTION: This shell command demonstrates how to test the EGGQL GraphQL server using cURL. It sends a POST request with a simple GraphQL query to retrieve the 'message' field.

LANGUAGE: Shell
CODE:
$ curl -XPOST -d '{"query": "{ message }"}' localhost:80/graphql

----------------------------------------

TITLE: Importing GraphQLSchema in JavaScript
DESCRIPTION: Examples of importing GraphQLSchema using ES6 and CommonJS syntax.

LANGUAGE: javascript
CODE:
import { GraphQLSchema } from "graphql" // ES6
var { GraphQLSchema } = require("graphql") // CommonJS

----------------------------------------

TITLE: Importing GraphQL Module in JavaScript
DESCRIPTION: Shows how to import the graphql module using both ES6 and CommonJS syntax.

LANGUAGE: javascript
CODE:
import { graphql } from "graphql" // ES6
var { graphql } = require("graphql") // CommonJS

----------------------------------------

TITLE: Creating Basic GraphQL Schema with KGraphQL in Kotlin
DESCRIPTION: Shows how to create a GraphQL schema using KGraphQL DSL, including a data class definition, query resolver, and property resolver. The example demonstrates querying an Article with custom property resolution.

LANGUAGE: kotlin
CODE:
data class Article(val id: Int, val text: String)

fun main() {
    val schema = KGraphQL.schema {
        query("article") {
            resolver { id: Int?, text: String ->
                Article(id ?: -1, text)
            }
        }
        type<Article> {
            property<String>("fullText") {
                resolver { article: Article ->
                    "${article.id}: ${article.text}"
                }
            }
        }
    }

    schema.execute("""
        {
            article(id: 5, text: "Hello World") {
                id
                fullText
            }
        }
    """).let(::println)
}

----------------------------------------

TITLE: Defining Lighthouse Project Metadata in YAML
DESCRIPTION: This YAML snippet defines the basic metadata for the Lighthouse project, including its name, description, and GitHub repository link. It's likely used for documentation or configuration purposes.

LANGUAGE: yaml
CODE:
---
name: Lighthouse
description: A GraphQL server for Laravel
github: nuwave/lighthouse
---

----------------------------------------

TITLE: Importing GraphQL Execute Function
DESCRIPTION: Shows how to import the execute function from GraphQL using both ES6 and CommonJS syntax.

LANGUAGE: javascript
CODE:
import { execute } from "graphql" // ES6
var { execute } = require("graphql") // CommonJS

----------------------------------------

TITLE: Syntax Error Function Definition
DESCRIPTION: Function signature for creating syntax errors with source location information in GraphQL queries.

LANGUAGE: typescript
CODE:
function syntaxError(
  source: Source,
  position: number,
  description: string
): GraphQLError

----------------------------------------

TITLE: Adding GraphQL Kotlin Spring Server Dependency in Gradle
DESCRIPTION: This snippet shows how to add the graphql-kotlin-spring-server dependency to a Gradle build file. It's necessary for creating a reactive GraphQL web server.

LANGUAGE: kotlin
CODE:
// build.gradle.kts
implementation("com.expediagroup", "graphql-kotlin-spring-server", latestVersion)

----------------------------------------

TITLE: Defining GraphQL .NET Client Project Metadata in YAML
DESCRIPTION: This YAML snippet defines the metadata for a GraphQL .NET client project. It specifies the project name, provides a brief description of its functionality, and includes the GitHub repository link for the project.

LANGUAGE: yaml
CODE:
---
name: graphql-net-client
description: Basic example GraphQL client for .NET.
github: bkniffler/graphql-net-client
---

----------------------------------------

TITLE: Declaring GraphQL Parse Function
DESCRIPTION: Function signature for parse, which takes a GraphQL source (as a Source object or string) and optional ParseOptions, and returns a Document AST.

LANGUAGE: typescript
CODE:
export function parse(
  source: Source | string,
  options?: ParseOptions
): Document

----------------------------------------

TITLE: GraphQLError Class Definition
DESCRIPTION: TypeScript class definition for GraphQLError, extending the Error class with additional GraphQL-specific properties for error tracking and debugging.

LANGUAGE: typescript
CODE:
class GraphQLError extends Error {
 constructor(
   message: string,
   nodes?: any[],
   stack?: string,
   source?: Source,
   positions?: number[],
   originalError?: Error,
   extensions?: { [key: string]: mixed }
 )
}

----------------------------------------

TITLE: Sample GraphQL Query Definition
DESCRIPTION: This snippet shows a sample GraphQL query named 'HelloWorldQuery' that retrieves the 'helloWorld' field.

LANGUAGE: graphql
CODE:
query HelloWorldQuery {
  helloWorld
}

----------------------------------------

TITLE: Story Like Subscription in GraphQL
DESCRIPTION: Example of a GraphQL subscription to receive push updates when users like or unlike a story.

LANGUAGE: graphql
CODE:
subscription StoryLikeSubscription($input: StoryLikeSubscribeInput) {
  storyLikeSubscribe(input: $input) {
    story {
      likers { count }
      likeSentence { text }
    }
  }
}

----------------------------------------

TITLE: Defining GraphQL AST Visitor Function
DESCRIPTION: Declaration of the visit function for traversing and potentially modifying a GraphQL AST. Includes examples of different visitor patterns and return value behaviors.

LANGUAGE: javascript
CODE:
function visit(root, visitor, keyMap)

var editedAST = visit(ast, {
  enter(node, key, parent, path, ancestors) {
    // @return
    //   undefined: no action
    //   false: skip visiting this node
    //   visitor.BREAK: stop visiting altogether
    //   null: delete this node
    //   any value: replace this node with the returned value
  },
  leave(node, key, parent, path, ancestors) {
    // @return
    //   undefined: no action
    //   false: no action
    //   visitor.BREAK: stop visiting altogether
    //   null: delete this node
    //   any value: replace this node with the returned value
  },
})

----------------------------------------

TITLE: Importing GraphQLError Module
DESCRIPTION: Examples of importing the GraphQLError class using ES6 and CommonJS syntax.

LANGUAGE: javascript
CODE:
import { GraphQLError } from "graphql" // ES6
var { GraphQLError } = require("graphql") // CommonJS

----------------------------------------

TITLE: Implementing GraphQL API in Haskell
DESCRIPTION: Implements the GraphQL API resolver using morpheus-graphql library in Haskell. Sets up the root resolver with query handling for the Deity type, including necessary language extensions and imports.

LANGUAGE: haskell
CODE:
{-# LANGUAGE DeriveGeneric #-}
{-# LANGUAGE DuplicateRecordFields #-}
{-# LANGUAGE FlexibleContexts #-}
{-# LANGUAGE FlexibleInstances #-}
{-# LANGUAGE MultiParamTypeClasses #-}
{-# LANGUAGE NamedFieldPuns #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE ScopedTypeVariables #-}
{-# LANGUAGE TemplateHaskell #-}
{-# LANGUAGE TypeFamilies #-}
module API (api) where
import Data.ByteString.Lazy.Char8 (ByteString)
import Data.Morpheus (interpreter)
import Data.Morpheus.Document (importGQLDocument)
import Data.Morpheus.Types (RootResolver (..), Undefined (..))
import Data.Text (Text)
importGQLDocument "schema.gql"
rootResolver :: RootResolver IO () Query Undefined Undefined
rootResolver =
  RootResolver
    { queryResolver = Query {deity},
      mutationResolver = Undefined,
      subscriptionResolver = Undefined
    }
  where
    deity DeityArgs {name} =
      pure
        Deity
          { name = pure name,
            power = pure (Just "Shapeshifting")
          }
api :: ByteString -> IO ByteString
api = interpreter rootResolver

----------------------------------------

TITLE: Story Like Mutation in GraphQL
DESCRIPTION: Example of a GraphQL mutation to like a story and fetch updated like count and sentence data.

LANGUAGE: graphql
CODE:
mutation StoryLikeMutation($input: StoryLikeInput) {
  storyLike(input: $input) {
    story {
      likers { count }
      likeSentence { text }
    }
  }
}

----------------------------------------

TITLE: Declaring GraphQL AST Printing Function
DESCRIPTION: Function signature for print, which converts a GraphQL AST into a formatted string representation.

LANGUAGE: typescript
CODE:
function print(ast): string

----------------------------------------

TITLE: Operation-Based TypeScript Type Generation
DESCRIPTION: Correct approach showing TypeScript types generated from GraphQL operations rather than schema.

LANGUAGE: typescript
CODE:
# Only the fields appearing in the `GetProduct` query appear in the generated types

type GetProductData = {
    products: Array<GetProductData_products>
}

type GetProductData_products = {
    id: string;
    description: string | null;
    price: string | null
}

----------------------------------------

TITLE: Defining GraphQL Schema for Deity API
DESCRIPTION: Defines a GraphQL schema with a Deity type containing name and power fields, and a query to fetch deity information. The power field is marked as deprecated.

LANGUAGE: graphql
CODE:
# schema.gql
"""
A supernatural being considered divine and sacred
"""
type Deity {
  name: String!
  power: String @deprecated(reason: "no more supported")
}
type Query {
  deity(name: String! = "Morpheus"): Deity!
}

----------------------------------------

TITLE: Complete Relay-Compliant GraphQL Schema
DESCRIPTION: Full JavaScript implementation of a Relay-compliant GraphQL schema that wraps a REST API, including global IDs and node interface.

LANGUAGE: javascript
CODE:
import {
  GraphQLList,
  GraphQLObjectType,
  GraphQLSchema,
  GraphQLString,
} from 'graphql';
import {
  fromGlobalId,
  globalIdField,
  nodeDefinitions,
} from 'graphql-relay';

const BASE_URL = 'https://myapp.com/';

function fetchResponseByURL(relativeURL) {
  return fetch(`${BASE_URL}${relativeURL}`).then(res => res.json());
}

function fetchPeople() {
  return fetchResponseByURL('/people/').then(json => json.people);
}

function fetchPersonByURL(relativeURL) {
  return fetchResponseByURL(relativeURL).then(json => json.person);
}

const { nodeInterface, nodeField } = nodeDefinitions(
  globalId => {
    const { type, id } = fromGlobalId(globalId);
    if (type === 'Person') {
      return fetchPersonByURL(`/people/${id}/`);
    }
  },
  object => {
    if (object.hasOwnProperty('username')) {
      return 'Person';
    }
  },
);

const PersonType = new GraphQLObjectType({
  name: 'Person',
  description: 'Somebody that you used to know',
  fields: () => ({
    firstName: {
      type: GraphQLString,
      resolve: person => person.first_name,
    },
    lastName: {
      type: GraphQLString,
      resolve: person => person.last_name,
    },
    email: {type: GraphQLString},
    id: globalIdField('Person'),
    username: {type: GraphQLString},
    friends: {
      type: new GraphQLList(PersonType),
      resolve: person => person.friends.map(fetchPersonByURL),
    },
  }),
  interfaces: [ nodeInterface ],
});

const QueryType = new GraphQLObjectType({
  name: 'Query',
  description: 'The root of all... queries',
  fields: () => ({
    allPeople: {
      type: new GraphQLList(PersonType),
      resolve: fetchPeople,
    },
    node: nodeField,
    person: {
      type: PersonType,
      args: {
        id: { type: GraphQLString },
      },
      resolve: (root, args) => fetchPersonByURL(`/people/${args.id}/`),
    }
  })
});

export default new GraphQLSchema({
  query: QueryType
});

----------------------------------------

TITLE: Building GraphQL Schema from AST in TypeScript
DESCRIPTION: Function signature for buildASTSchema, which constructs a GraphQLSchema instance from an AST representation of a schema document.

LANGUAGE: typescript
CODE:
function buildASTSchema(
  ast: SchemaDocument,
  queryTypeName: string,
  mutationTypeName: string
): GraphQLSchema

----------------------------------------

TITLE: Schema-Based TypeScript Type Generation
DESCRIPTION: Initial attempt at generating TypeScript types directly from GraphQL schema, showing why this approach is problematic.

LANGUAGE: typescript
CODE:
// First attempt at generating code from the product type
type Product = {
    id: string;
    name: string;
    description: string | null;
    price: string | null
}

----------------------------------------

TITLE: Project Metadata in YAML
DESCRIPTION: YAML frontmatter defining the basic project information for Absinthe GraphQL implementation, including project name, description and GitHub repository URL.

LANGUAGE: yaml
CODE:
---
name: absinthe
description: GraphQL implementation for Elixir.
github: absinthe-graphql/absinthe
---

----------------------------------------

TITLE: Implementing DataLoader in GraphQL Schema
DESCRIPTION: Full JavaScript implementation of a GraphQL schema using DataLoader to optimize queries and avoid duplicate requests to the REST API.

LANGUAGE: javascript
CODE:
import DataLoader from 'dataloader';
import {
  GraphQLList,
  GraphQLObjectType,
  GraphQLSchema,
  GraphQLString,
} from 'graphql';
import {
  fromGlobalId,
  globalIdField,
  nodeDefinitions,
} from 'graphql-relay';

const BASE_URL = 'https://myapp.com/';

function fetchResponseByURL(relativeURL) {
  return fetch(`${BASE_URL}${relativeURL}`).then(res => res.json());
}

function fetchPeople() {
  return fetchResponseByURL('/people/').then(json => json.people);
}

function fetchPersonByURL(relativeURL) {
  return fetchResponseByURL(relativeURL).then(json => json.person);
}

const personLoader = new DataLoader(
  urls => Promise.all(urls.map(fetchPersonByURL))
);

const { nodeInterface, nodeField } = nodeDefinitions(
  globalId => {
    const {type, id} = fromGlobalId(globalId);
    if (type === 'Person') {
      return personLoader.load(`/people/${id}/`);
    }
  },
  object => {
    if (object.hasOwnProperty('username')) {
      return 'Person';
    }
  },
);

const PersonType = new GraphQLObjectType({
  name: 'Person',
  description: 'Somebody that you used to know',
  fields: () => ({
    firstName: {
      type: GraphQLString,
      resolve: person => person.first_name
    },
    lastName: {
      type: GraphQLString,
      resolve: person => person.last_name
    },
    email: {type: GraphQLString},
    id: globalIdField('Person'),
    username: {type: GraphQLString},
    friends: {
      type: new GraphQLList(PersonType),
      resolve: person => personLoader.loadMany(person.friends)
    }
  }),
  interfaces: [nodeInterface]
});

const QueryType = new GraphQLObjectType({
  name: 'Query',
  description: 'The root of all... queries',
  fields: () => ({
    allPeople: {
      type: new GraphQLList(PersonType),
      resolve: fetchPeople
    },
    node: nodeField,
    person: {
      type: PersonType,
      args: {
        id: { type: GraphQLString }
      },
      resolve: (root, args) => personLoader.load(`/people/${args.id}/`)
    }
  })
});

export default new GraphQLSchema({
  query: QueryType
});

----------------------------------------

TITLE: GraphQL Function Signature in TypeScript
DESCRIPTION: Defines the signature of the main graphql function, including its parameters and return type. This function is used to execute GraphQL queries against a schema.

LANGUAGE: typescript
CODE:
function graphql(
  schema: GraphQLSchema,
  requestString: string,
  rootValue?: any,
  contextValue?: any,
  variableValues?: {[key: string]: any},
  operationName?: string
): Promise<GraphQLResult>

----------------------------------------

TITLE: GraphQL Error Response Example
DESCRIPTION: Example of an error response returned when testing the BahnQL API endpoint with an empty search term, demonstrating how Schemathesis can uncover potential server issues.

LANGUAGE: json
CODE:
{
  "errors": [
    {
      "message": "Cannot read property 'city' of undefined",
      "locations": [
        {
          "line": 1,
          "column": 28
        }
      ],
      "path": ["search", "stations"]
    }
  ],
  "data": null
}

----------------------------------------

TITLE: Watching and Subscribing to GraphQL Query Results with Strawberry Shake in C#
DESCRIPTION: This snippet demonstrates how to use Strawberry Shake to watch a GraphQL query and subscribe to its results. It uses the CacheFirst execution strategy and prints the hero's name to the console when data is received.

LANGUAGE: csharp
CODE:
client.GetHero
    .Watch(ExecutionStrategy.CacheFirst)
    .Subscribe(result =>
    {
        Console.WriteLine(result.Data.Name);
    })

----------------------------------------

TITLE: Implementing Global IDs in GraphQL Schema
DESCRIPTION: JavaScript code showing how to use globalIdField from graphql-relay to implement globally unique IDs in the PersonType.

LANGUAGE: javascript
CODE:
import { globalIdField } from "graphql-relay"

const PersonType = new GraphQLObjectType({
  name: "Person",
  description: "Somebody that you used to know",
  fields: () => ({
    id: globalIdField("Person")
    /* ... */
  })
})

----------------------------------------

TITLE: Complete GraphQL Server Implementation
DESCRIPTION: This snippet shows the entire server-side implementation for the 'rollDice' API. It includes schema definition, resolver implementation, and Express server setup with GraphQL HTTP handler.

LANGUAGE: javascript
CODE:
var express = require("express")
var { createHandler } = require("graphql-http/lib/use/express")
var { buildSchema } = require("graphql")

// Construct a schema, using GraphQL schema language
var schema = buildSchema(/* GraphQL */`
  type Query {
    rollDice(numDice: Int!, numSides: Int): [Int]
  }
`)

// The root provides a resolver function for each API endpoint
var root = {
  rollDice({ numDice, numSides }) {
    var output = []
    for (var i = 0; i < numDice; i++) {
      output.push(1 + Math.floor(Math.random() * (numSides || 6)))
    }
    return output
  },
}

var app = express()
app.all(
  "/graphql",
  createHandler({
    schema: schema,
    rootValue: root,
  })
)
app.listen(4000)
console.log("Running a GraphQL API server at localhost:4000/graphql")

----------------------------------------

TITLE: Adding Products and Customer Mutation
DESCRIPTION: GraphQL mutation to add sample products and a customer to the database.

LANGUAGE: graphql
CODE:
mutation {
  addProduct(input: [{ name: "Dgraph" }, { name: "Dgraph Cloud" }]) {
    product {
      id
      name
    }
  }
  addCustomer(input: [{ username: "TonyStark" }]) {
    customer {
      username
    }
  }
}

----------------------------------------

TITLE: Generating Table of Contents Links in JSX
DESCRIPTION: Creates a grid of links for the table of contents based on a 'toc' array, mapping each item to an anchor tag.

LANGUAGE: JSX
CODE:
<div className="mt-6 grid grid-cols-2 gap-x-4">
  {toc.map(({ value, id }) => (
    <a key={id} href={`#${id}`}>
      {value}
    </a>
  ))}
</div>

----------------------------------------

TITLE: Injecting Relay Local Schema Network Layer
DESCRIPTION: JavaScript code to inject a custom network layer for Relay to use the client-side GraphQL schema.

LANGUAGE: javascript
CODE:
import RelayLocalSchema from 'relay-local-schema';

import schema from './schema';

Relay.injectNetworkLayer(
  new RelayLocalSchema.NetworkLayer({ schema })
);

----------------------------------------

TITLE: Exporting GraphQL Schema in JavaScript
DESCRIPTION: Code snippet showing how to export a GraphQLSchema instance with a defined query type.

LANGUAGE: javascript
CODE:
import { GraphQLSchema } from "graphql"

export default new GraphQLSchema({
  query: QueryType,
})

----------------------------------------

TITLE: Creating GraphQL Schema File
DESCRIPTION: Commands to create and edit the GraphQL schema file.

LANGUAGE: bash
CODE:
touch schema.graphql
nano schema.graphql

----------------------------------------

TITLE: Checking CFP Expiration in JavaScript
DESCRIPTION: Defines a constant to check if the CFP submission deadline has passed based on the current date.

LANGUAGE: JavaScript
CODE:
export const isExpired = new Date() > new Date("2024/05/22 12:00")

----------------------------------------

TITLE: Installing Relay Local Schema Package
DESCRIPTION: Command to install the relay-local-schema package for using a client-side schema with Relay.

LANGUAGE: shell
CODE:
npm i relay-local-schema

----------------------------------------

TITLE: Defining PersonType in GraphQL Schema
DESCRIPTION: JavaScript code defining the PersonType with various fields and their resolvers, including a friends field that returns a list of PersonType.

LANGUAGE: javascript
CODE:
import {
  GraphQLList,
  GraphQLObjectType,
  GraphQLString,
} from 'graphql';

const PersonType = new GraphQLObjectType({
  name: 'Person',
  description: 'Somebody that you used to know',
  fields: () => ({
    firstName: {
      type: GraphQLString,
      resolve: person => person.first_name,
    },
    lastName: {
      type: GraphQLString,
      resolve: person => person.last_name,
    },
    email: {type: GraphQLString},
    id: {type: GraphQLString},
    username: {type: GraphQLString},
    friends: {
      type: new GraphQLList(PersonType),
      resolve: person => {} // Fetch the friends with the URLs `person.friends`,
    },
  }),
});

----------------------------------------

TITLE: Integrating with Existing GraphQL Schema
DESCRIPTION: Example of integrating CRUDDALS-generated queries and mutations into an existing GraphQL schema with custom types

LANGUAGE: python
CODE:
class Query(
    # ... your others queries
    CruddalsQuestion.Query,
    graphene.ObjectType,
):
    pass


class Mutation(
    # ... your others mutations
    CruddalsQuestion.Mutation,
    graphene.ObjectType,
):
    pass


schema = graphene.Schema( query=Query, mutation=Mutation, )

----------------------------------------

TITLE: Importing Button Component in JSX
DESCRIPTION: Imports a Button component from the application's configuration components directory.

LANGUAGE: jsx
CODE:
import { Button } from "@/app/conf/_components/button"

----------------------------------------

TITLE: GraphQL Query Without Name Field
DESCRIPTION: Example query demonstrating why schema-based type generation is unsafe by omitting the required name field.

LANGUAGE: graphql
CODE:
query GetProduct {
  products {
    id
    # no name here
    description
    price
  }
}

----------------------------------------

TITLE: Installing GraphQL Relay Package
DESCRIPTION: Command to install the graphql-relay package for implementing Relay-compliant schemas.

LANGUAGE: shell
CODE:
npm i graphql-relay

----------------------------------------

TITLE: Basic Schema Generation
DESCRIPTION: Simple schema generation using the CruddalsQuestion class

LANGUAGE: python
CODE:
schema = CruddalsQuestion.Schema

----------------------------------------

TITLE: TOC Navigation Component in React/JSX
DESCRIPTION: A React component that renders a table of contents grid layout using mapped values and IDs for navigation

LANGUAGE: jsx
CODE:
<div className="mt-6 grid grid-cols-2 gap-x-4">{toc.map(({value, id}) => <a key={id} href={`#${id}`}>{value}</a>)}</div>

----------------------------------------

TITLE: GraphQL Query With Field Alias
DESCRIPTION: Query showing how field aliasing affects type safety in schema-based generation.

LANGUAGE: graphql
CODE:
query GetProduct {
  products {
    id
    productName: name
    description
    price
  }
}

----------------------------------------

TITLE: Implementing Node Interface in GraphQL Schema
DESCRIPTION: JavaScript code demonstrating how to implement the node interface and field using helpers from graphql-relay.

LANGUAGE: javascript
CODE:
import { fromGlobalId, nodeDefinitions } from "graphql-relay"

const { nodeInterface, nodeField } = nodeDefinitions(
  globalId => {
    const { type, id } = fromGlobalId(globalId)
    if (type === "Person") {
      return fetchPersonByURL(`/people/${id}/`)
    }
  },
  object => {
    if (object.hasOwnProperty("username")) {
      return "Person"
    }
  }
)

----------------------------------------

TITLE: Creating CRUDDALS Model Class
DESCRIPTION: Implementation of the CRUDDALS wrapper class for the Question model using DjangoModelCruddals

LANGUAGE: python
CODE:
from graphene_django_cruddals import DjangoModelCruddals

class CruddalsQuestion(DjangoModelCruddals):
    class Meta:
        model = Question

----------------------------------------

TITLE: Displaying CHAOSS D&I Event Badge in Markdown
DESCRIPTION: This code snippet shows how to embed a CHAOSS D&I Event Badge image in Markdown. It uses an img tag with a shield.io badge and custom SVG logo.

LANGUAGE: markdown
CODE:
![D&I Badging badge state: Gold](https://img.shields.io/badge/D%26I-Gold-yellow?style=flat-square&labelColor=583586&&link=https://github.com/badging/event-diversity-and-inclusion/issues/255/&logo=data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI1MCAyNTAiPgo8cGF0aCBmaWxsPSIjMUM5QkQ2IiBkPSJNOTcuMSw0OS4zYzE4LTYuNywzNy44LTYuOCw1NS45LTAuMmwxNy41LTMwLjJjLTI5LTEyLjMtNjEuOC0xMi4yLTkwLjgsMC4zTDk3LjEsNDkuM3oiLz4KPHBhdGggZmlsbD0iIzZBQzdCOSIgZD0iTTE5NC42LDMyLjhMMTc3LjIsNjNjMTQuOCwxMi4zLDI0LjcsMjkuNSwyNy45LDQ4LjVoMzQuOUMyMzYuMiw4MC4yLDIxOS45LDUxLjcsMTk0LjYsMzIuOHoiLz4KPHBhdGggZmlsbD0iI0JGOUNDOSIgZD0iTTIwNC45LDEzOS40Yy03LjksNDMuOS00OS45LDczLTkzLjgsNjUuMWMtMTMuOC0yLjUtMjYuOC04LjYtMzcuNS0xNy42bC0yNi44LDIyLjQKCWM0Ni42LDQzLjQsMTE5LjUsNDAuOSwxNjIuOS01LjdjMTYuNS0xNy43LDI3LTQwLjIsMzAuMS02NC4ySDIwNC45eiIvPgo8cGF0aCBmaWxsPSIjRDYxRDVGIiBkPSJNNTUuNiwxNjUuNkMzNS45LDEzMS44LDQzLjMsODguOCw3My4xLDYzLjVMNTUuNywzMy4yQzcuNSw2OS44LTQuMiwxMzcuNCwyOC44LDE4OEw1NS42LDE2NS42eiIvPgo8L3N2Zz4K)

----------------------------------------

TITLE: Customizing GraphQL Mock Data
DESCRIPTION: Shows various ways to customize mock data generation, including per-type mocking, field-level mocking, list generation, and argument-based mocking.

LANGUAGE: javascript
CODE:
// customize mocking per type (i.e. Integer, Float, String)
mockServer(schema, {
  Int: () => 6,
  Float: () => 22.1,
  String: () => 'Hello'
})

// customize mocking per field in the schema (i.e. for Person.name and Person.age)
mockServer(schema, {
  Person: () => ({
    name: casual.name,
    age: () => casual.integer(0,120)
  })
})

// mock lists of specific or random length( and lists of lists of lists â€¦)
mockServer(schema, {
  Person: () => ({
    // a list of length between 2 and 6
    friends: () => new MockList([2,6]),
    // a list of three lists of two items: [[1, 1], [2, 2], [3, 3]]
    listOfLists: () => new MockList(3, () => new MockList(2))
  })
})

// customize mocking of a field or type based on the query arguments
mockServer(schema, {
  Person: () => ({
    // the number of friends in the list now depends on numPages
    paginatedFriends: (o, { numPages }) => new MockList(numPages * PAGE_SIZE)
  })
})

// You can also disable mocking for specific fields, pass through to the backend, etc.

----------------------------------------

TITLE: Implementing GraphQL Character Type in C#
DESCRIPTION: This code defines a Character class that corresponds to a GraphQL type. It includes properties and async methods for resolving fields like name, homeWorld, and friends. The class demonstrates how to implement resolvers for different field types in a C# GraphQL server.

LANGUAGE: C#
CODE:
// type Character {
public class Character {
  // name: String
  public String Name { get; }

  // homeWorld: Planet
  public async Task<Planet> GetHomeWorldAsync() {
    return await FetchHomeworldAsync(_HomeworldID);
  }

  // friends: [Character]
  public async IEnumerable<Task<Character>> GetFriendsAsync() {
    return _FriendIDs.Select(FetchCharacterAsync);
  }
}

----------------------------------------

TITLE: Creating main GraphQL Schema
DESCRIPTION: Example of creating the main GraphQL schema in myproject/schema.py, combining queries and mutations.

LANGUAGE: python
CODE:
import graphene
from myapp.schema import query_class, mutation_class

class Query(query_class, graphene.ObjectType):
    pass

class Mutation(mutation_class, graphene.ObjectType):
    pass

schema = graphene.Schema(query=Query, mutation=Mutation)

----------------------------------------

TITLE: Running GraphQL Website Development Server
DESCRIPTION: Command to start the local development server for the GraphQL website.

LANGUAGE: sh
CODE:
pnpm dev

----------------------------------------

TITLE: Basic GraphQL Server Mocking Setup
DESCRIPTION: Demonstrates the minimal setup required to create a mocked GraphQL server using graphql-tools. Shows how to import the schema and create a mock server that can handle any valid GraphQL query.

LANGUAGE: javascript
CODE:
// > npm install graphql-tools
import { mockServer } from "graphql-tools"
import schema from "./mySchema.graphql"

const myMockServer = mockServer(schema)
myMockServer.query(`{
  allUsers: {
    id
    name
  }
}`)

// returns
// {
//   data: {
//     allUsers:[
//       { id: 'ee5ae76d-9b91-4270-a007-fad2054e2e75', name: 'lorem ipsum' },
//       { id: 'ca5c182b-99a8-4391-b4b4-4a20bd7cb13a', name: 'quis ut' }
//     ]
//   }
// }

----------------------------------------

TITLE: Defining GraphQL Types for Star Wars Films and People
DESCRIPTION: This GraphQL schema defines two types: Film and Person. It establishes relationships between films and their directors, as well as actors and the films they appeared in.

LANGUAGE: graphql
CODE:
type Film {
  title: String
  episode: Int
  releaseDate: String
  openingCrawl: String
  director: String
  directedBy: Person
}

type Person {
  name: String
  directed: [Film]
  actedIn: [Film]
}

----------------------------------------

TITLE: Configuring GraphQL Schema with Django Graphbox
DESCRIPTION: Example of using SchemaBuilder to configure the GraphQL schema for the defined model in myapp/schema.py.

LANGUAGE: python
CODE:
from django_graphbox.builder import SchemaBuilder
from myapp.models import MyModel

builder = SchemaBuilder()
builder.add_model(MyModel)

query_class = builder.build_schema_query()
mutation_class = builder.build_schema_mutation()

----------------------------------------

TITLE: Cloning and Setting Up GraphQL Website Repository
DESCRIPTION: Commands to clone the GraphQL website repository and navigate to the project directory.

LANGUAGE: sh
CODE:
git clone https://github.com/graphql/graphql.github.io.git
cd graphql.github.io

----------------------------------------

TITLE: Defining Film Type Schema in GraphQL
DESCRIPTION: Defines a GraphQL type called Film with three fields: title (String), episode (Int), and releaseDate (String). This schema structure enables querying of basic film metadata through a GraphQL API.

LANGUAGE: graphql
CODE:
type Film {
  title: String
  episode: Int
  releaseDate: String
}

----------------------------------------

TITLE: Querying Hero and Friends Data with GraphQL
DESCRIPTION: This GraphQL query retrieves detailed information about a hero and their friends. It includes nested fields to fetch data about friends' home worlds and species, demonstrating GraphQL's ability to request complex, hierarchical data in a single query.

LANGUAGE: graphql
CODE:
{
  hero {
    name
    friends {
      name
      homeWorld {
        name
        climate
      }
      species {
        name
        lifespan
        origin {
          name
        }
      }
    }
  }
}

----------------------------------------

TITLE: Creating and running Django migrations
DESCRIPTION: Commands to create and apply database migrations for the defined models.

LANGUAGE: bash
CODE:
python manage.py makemigrations
python manage.py migrate

----------------------------------------

TITLE: Exporting Index Page Component for GraphQL Documentation
DESCRIPTION: Exports the IndexPage component from the components directory to serve as the default export for the current module.

LANGUAGE: javascript
CODE:
export { IndexPage as default } from '../components/index-page'

----------------------------------------

TITLE: Defining GraphQL Type for Star Wars Film in GraphQL
DESCRIPTION: This snippet defines a GraphQL type 'Film' representing a Star Wars movie. It includes fields for the film's title, episode number, release date, and opening crawl text. Each field is typed appropriately to match the expected data format.

LANGUAGE: graphql
CODE:
type Film {
  title: String
  episode: Int
  releaseDate: String
  openingCrawl: String
}

----------------------------------------

TITLE: Displaying GraphQL Response Data in JSON
DESCRIPTION: This snippet shows a JSON object structure typically returned by a GraphQL query. It includes data about a hero character, providing their name, height, and mass.

LANGUAGE: json
CODE:
{
  "hero": {
    "name": "Luke Skywalker",
    "height": 1.72,
    "mass": 77
  }
}

----------------------------------------

TITLE: Defining Django models
DESCRIPTION: Example of defining a simple Django model in the myapp/models.py file.

LANGUAGE: python
CODE:
from django.db import models

class MyModel(models.Model):
    name = models.CharField(max_length=100)

----------------------------------------

TITLE: Importing GraphQL Utilities in JavaScript
DESCRIPTION: Demonstrates how to import the introspectionQuery utility from the GraphQL package using ES6 and CommonJS syntax.

LANGUAGE: javascript
CODE:
import { introspectionQuery } from "graphql" // ES6
var { introspectionQuery } = require("graphql") // CommonJS

----------------------------------------

TITLE: Defining GraphQL Schema for Star Wars Film in GraphQL
DESCRIPTION: This GraphQL schema defines a 'Film' type representing a Star Wars movie. It includes fields for the film's title, episode number, release date, opening crawl text, and director. The schema uses standard GraphQL scalar types like String and Int.

LANGUAGE: graphql
CODE:
type Film {
  title: String
  episode: Int
  releaseDate: String
  openingCrawl: String
  director: String
}

----------------------------------------

TITLE: Implementing a Hello World GraphQL Service in Ballerina
DESCRIPTION: This code snippet demonstrates how to create a simple GraphQL service using the ballerina-graphql package. It sets up a listener on port 9090 and defines a 'hello' query that returns a string.

LANGUAGE: ballerina
CODE:
import ballerina/graphql;

service /graphql on new graphql:Listener(9090) {
    resource function get hello() returns string {
        return "Hello, world!";
    }
}

----------------------------------------

TITLE: Creating a new Django project
DESCRIPTION: Command to create a new Django project using django-admin.

LANGUAGE: bash
CODE:
django-admin startproject myproject

----------------------------------------

TITLE: Querying Multiple Methods on RandomDie Object in GraphQL
DESCRIPTION: This GraphQL query demonstrates how to call multiple methods on the RandomDie object in a single request, including rollOnce and roll with specified number of rolls.

LANGUAGE: graphql
CODE:
{
  getDie(numSides: 6) {
    rollOnce
    roll(numRolls: 3)
  }
}

----------------------------------------

TITLE: Defining Character Type in GraphQL Schema
DESCRIPTION: Defines a Character type in GraphQL with three fields: a name string, a reference to a Planet type for homeWorld, and an array of Character references for friends. The schema demonstrates both scalar and relationship fields.

LANGUAGE: graphql
CODE:
type Character {
  name: String
  homeWorld: Planet
  friends: [Character]
}

----------------------------------------

TITLE: Resulting GraphQL Schema
DESCRIPTION: This snippet shows the GraphQL schema generated from the PHP code using attributes. It includes definitions for Mutation, Query, input types, object types, and enums, demonstrating how the PHP attributes are translated into a valid GraphQL schema.

LANGUAGE: graphql
CODE:
type Mutation {
  createUser(input: CreateUserInput!): User!
}

type Query {
  user(userId: Int!): User!
}

input CreateUserInput {
  userId: Int!
  name: String!
  phoneNumber: String
}

type User {
  userId: Int!
  name: String!
  status: UserStatus!
  phoneNumber: String
}

enum UserStatus {
  CREATED
  REMOVED
}

----------------------------------------

TITLE: Running the Ariadne GraphQL Server with Uvicorn
DESCRIPTION: Commands to install Uvicorn and run the GraphQL server. Uvicorn is used as the ASGI server to host the Ariadne GraphQL application.

LANGUAGE: bash
CODE:
$ pip install uvicorn
$ uvicorn example:app

----------------------------------------

TITLE: Expanded RandomDie and Query Types Definition in GraphQL
DESCRIPTION: This snippet shows an expanded definition of the RandomDie type with additional fields and methods, along with the Query type in GraphQL schema language.

LANGUAGE: graphql
CODE:
type RandomDie {
  numSides: Int!
  rollOnce: Int!
  roll(numRolls: Int!): [Int]
}

type Query {
  getDie(numSides: Int): RandomDie
}

----------------------------------------

TITLE: Querying Hero and Friends Data with GraphQL
DESCRIPTION: A GraphQL query that fetches a hero object with nested friend relationships. The query requests the hero's name and then retrieves the names of all their friends, showing GraphQL's ability to fetch related data in a single request.

LANGUAGE: graphql
CODE:
{
  hero {
    name
    friends {
      name
    }
  }
}

----------------------------------------

TITLE: Implementing Dual GraphQL/REST Entity in PHP with API Platform
DESCRIPTION: Creates a Greeting entity class with API Platform annotations to automatically generate both GraphQL and REST endpoints. The class includes basic fields for ID and message content, utilizing Doctrine ORM for persistence and API Platform's @ApiResource for API exposure.

LANGUAGE: php
CODE:
<?php

namespace AppEntity;

use ApiPlatformCoreAnnotationApiResource;
use DoctrineORMMapping as ORM;

/**
 * Greet someone!
 *
 * @ApiResource
 * @ORMEntity
 */
class Greeting
{
    /**
     * @ORMId
     * @ORMColumn(type="guid")
     */
    public $id;

    /**
     * @var string Your nice message
     *
     * @ORMColumn
     */
    public $hello;
}

----------------------------------------

TITLE: Simple GraphQL Query Example
DESCRIPTION: Basic example showing how to generate a simple GraphQL query to fetch a hero's name using the graphql_query package

LANGUAGE: graphql
CODE:
{
  hero {
    name
  }
}

LANGUAGE: python
CODE:
from graphql_query import Operation, Query

hero = Query(name="hero", fields=["name"])
operation = Operation(type="query", queries=[hero])

print(operation.render())
"""
query {
  hero {
    name
  }
}"""

----------------------------------------

TITLE: Declaring getLocation Function for GraphQL Source
DESCRIPTION: Function signature for getLocation, which converts a character offset to a row and column in the Source. It returns a SourceLocation object with line and column properties.

LANGUAGE: typescript
CODE:
function getLocation(source: Source, position: number): SourceLocation

type SourceLocation = {
  line: number;
  column: number;
}

----------------------------------------

TITLE: Structuring GraphQL Query Result in JSON
DESCRIPTION: This snippet shows how to structure a GraphQL query result in JSON format. It includes a 'hero' object with a name and an array of friends, each containing a name property.

LANGUAGE: json
CODE:
{
  "hero": {
    "name": "Luke Skywalker",
    "friends": [
      { "name": "Obi-Wan Kenobi" },
      { "name": "R2-D2" },
      { "name": "Han Solo" },
      { "name": "Leia Organa" }
    ]
  }
}

----------------------------------------

TITLE: Configuring GraphQL Packages in YAML
DESCRIPTION: This YAML configuration specifies the packages that should be scanned for GraphQL schema objects. It's added to the application.yml file.

LANGUAGE: yaml
CODE:
graphql:
  packages:
    - "com.your.package"

----------------------------------------

TITLE: Installing GraphQL Query Package
DESCRIPTION: Command to install the graphql_query package using pip package manager

LANGUAGE: sh
CODE:
$ pip install graphql_query

----------------------------------------

TITLE: Error Formatting Function and Types
DESCRIPTION: Function and type definitions for formatting GraphQL errors according to the GraphQL specification's Response Format.

LANGUAGE: typescript
CODE:
function formatError(error: GraphQLError): GraphQLFormattedError

type GraphQLFormattedError = {
  message: string,
  locations: GraphQLErrorLocation[]
};

type GraphQLErrorLocation = {
  line: number,
  column: number
};

----------------------------------------

TITLE: Defining Project Type in GraphQL Schema
DESCRIPTION: This snippet defines a GraphQL type called Project with three fields: name and tagline as String types, and contributors as a list of User types. This schema structure allows for querying project details and associated contributors.

LANGUAGE: graphql
CODE:
type Project {
  name: String
  tagline: String
  contributors: [User]
}

----------------------------------------

TITLE: Implementing KGraphQL with Ktor Server
DESCRIPTION: Demonstrates how to integrate KGraphQL with a Ktor server using the GraphQL plugin. Includes playground setup and basic query configuration.

LANGUAGE: kotlin
CODE:
fun Application.module() {
  install(GraphQL) {
    playground = true
    schema {
      query("hello") {
        resolver { -> "World!" }
      }
    }
  }
}

----------------------------------------

TITLE: Generating GraphQL Client with Ariadne Codegen
DESCRIPTION: Command to run Ariadne Codegen and generate the Python GraphQL client based on the configuration.

LANGUAGE: bash
CODE:
$ ariadne-codegen

----------------------------------------

TITLE: Located Error Function Definition
DESCRIPTION: Function signature for creating location-aware GraphQL errors from standard Error objects.

LANGUAGE: typescript
CODE:
function locatedError(error: Error, nodes: any[]): GraphQLError

----------------------------------------

TITLE: Configuring GraphQL Project Metadata in JSON
DESCRIPTION: Basic JSON configuration that defines the tagline for a GraphQL API project. Sets up the fundamental project description used for documentation and identification purposes.

LANGUAGE: json
CODE:
{
  "project": {
    "tagline": "A query language for APIs"
  }
}

----------------------------------------

TITLE: Example JSON Response from EGGQL GraphQL Server
DESCRIPTION: This JSON snippet shows the expected response from the EGGQL GraphQL server when querying the 'message' field. It demonstrates the structure of a successful GraphQL query response.

LANGUAGE: JSON
CODE:
{
  "data": {
    "message": "hello, world"
  }
}

----------------------------------------

TITLE: Installing GraphQL Yoga dependencies
DESCRIPTION: This command installs the necessary npm packages for setting up a GraphQL Yoga server. It includes both the graphql-yoga package and the core graphql library.

LANGUAGE: bash
CODE:
npm install graphql-yoga graphql

----------------------------------------

TITLE: Valid Named Fragment Query in GraphQL
DESCRIPTION: Demonstrates a valid query using named fragments to conditionally request type-specific fields.

LANGUAGE: graphql
CODE:
query {
  hero {
    name
    ...DroidFields
  }
}

fragment DroidFields on Droid {
  primaryFunction
}

----------------------------------------

TITLE: Sponsor Buttons Implementation in JSX
DESCRIPTION: Renders two buttons for sponsorship details and contact options using the Button component with specific styling and external links.

LANGUAGE: jsx
CODE:
<div className="flex flex-row justfiy-center">
    <Button target="_blank" href="https://events.linuxfoundation.org/sponsor-GraphQLConf-24" className="!text-white !block">Sponsorship Details</Button>
    <Button href="mailto:graphqlconf@graphql.org?subject=Sponsorships" className="!text-white !block ml-3.5">Contact Us</Button>
</div>

----------------------------------------

TITLE: Connecting to a GraphQL Server in Julia
DESCRIPTION: This code shows how to create a client connection to a GraphQL server using the Client constructor from GraphQLClient.

LANGUAGE: julia
CODE:
client = Client("https://countries.trevorblades.com")

----------------------------------------

TITLE: Invalid Abstract Type Field Query in GraphQL
DESCRIPTION: Shows an invalid query that attempts to access a type-specific field 'primaryFunction' on the abstract Character interface.

LANGUAGE: graphql
CODE:
query {
  hero {
    name
    primaryFunction
  }
}

----------------------------------------

TITLE: Partnership Buttons Grid in JSX
DESCRIPTION: Creates a flex container with two buttons for media and community partnership applications with consistent styling.

LANGUAGE: jsx
CODE:
<div className="flex flex-wrap gap-2">
  <Button
    className="!text-white"
    href="mailto:graphqlconf@graphql.org"
    target="_blank"
  >Become a Media Partner</Button>
  <Button
    className="!text-white"
    href="mailto:graphqlconf@graphql.org"
    target="_blank"
  >Become a Community Partner</Button>
</div>

----------------------------------------

TITLE: Installing Pylon with npm
DESCRIPTION: Command to create a new Pylon project using npm. This is the first step in setting up a Pylon-based GraphQL API.

LANGUAGE: bash
CODE:
npm create pylon@latest

----------------------------------------

TITLE: Resulting GraphQL Schema
DESCRIPTION: This shows the GraphQL schema that results from the HelloWorldQuery implementation. It defines a Query type with a single field 'helloWorld' that returns a non-nullable String.

LANGUAGE: graphql
CODE:
type Query {
  helloWorld: String!
}

----------------------------------------

TITLE: Structuring GraphQL Response Body in JSON
DESCRIPTION: Illustrates the standard format for a GraphQL response body, including the data, errors, and extensions fields. The errors field must not be present if no errors occurred, and the extensions field is optional.

LANGUAGE: json
CODE:
{
  "data": { ... },
  "errors": [ ... ],
  "extensions": { ... }
}

----------------------------------------

TITLE: Importing Button Component in JavaScript
DESCRIPTION: Imports the Button component from a specific path for use in the page.

LANGUAGE: JavaScript
CODE:
import { Button } from "@/app/conf/_components/button"

----------------------------------------

TITLE: Developing a User Management Service with Pylon in TypeScript
DESCRIPTION: Example of a Pylon service implementation in TypeScript. It defines a User class, creates a sample user list, and exports GraphQL resolvers for querying and mutating user data.

LANGUAGE: typescript
CODE:
import { app } from "@getcronit/pylon"

class User {
  name: string
  email: string
  constructor(name: string, email: string) {
    this.name = name
    this.email = email
  }
}

const users = [
  new User("Alice", "alice@example.com"),
  new User("Bob", "bob@example.com"),
  new User("Charlie", "charlie@example.com"),
]

export const graphql = {
  Query: {
    users,
    user: (name: string) => {
      return users.find(user => user.name === name)
    },
  },
  Mutation: {
    addUser: (name: string, email: string) => {
      const user = new User(name, email)
      users.push(user)
      return user
    },
  },
}

export default app

----------------------------------------

TITLE: Defining Repository Metadata in YAML
DESCRIPTION: YAML frontmatter metadata defining a repository's name, description and GitHub location.

LANGUAGE: yaml
CODE:
---
name: Neuron
description: A GraphQL client for Elixir
github: uesteibar/neuron
---

----------------------------------------

TITLE: Defining GraphQL Types
DESCRIPTION: Demonstrates how to define basic GraphQL types and fields for a user query system.

LANGUAGE: graphql
CODE:
type Query {
  me: User
}

type User {
  name: String
}

----------------------------------------

TITLE: Warning Callout Component Implementation
DESCRIPTION: Renders a warning message using the Callout component to highlight important information about PR requirements for meeting attendance

LANGUAGE: jsx
CODE:
<Callout type="warning">
  **IMPORTANT:** Your PR against the agenda **must** be merged before you can attend. If the EasyCLA bot says you are not covered, you need to follow the links in the bot's comment to sign the [GraphQL Specification Membership agreement](https://github.com/graphql/graphql-wg/tree/HEAD/membership) before you can attend.
</Callout>

----------------------------------------

TITLE: Installing Microfiber via Package Manager
DESCRIPTION: Commands to install the Microfiber package using npm or yarn package managers.

LANGUAGE: sh
CODE:
npm install microfiber
# OR
yarn add microfiber

----------------------------------------

TITLE: Defining Project Metadata in YAML for GraphQL D Implementation
DESCRIPTION: This YAML snippet defines the essential metadata for the graphqld project, including its name, description, and GitHub repository link. It provides a concise overview of the project's purpose and location.

LANGUAGE: yaml
CODE:
---
name: graphqld
description: A GraphQL implementation for the D Programming Language.
github: burner/graphqld
---

----------------------------------------

TITLE: Styling for Rhodamine color sample in GraphQL branding
DESCRIPTION: This CSS snippet defines styles for displaying the Rhodamine color sample used in GraphQL branding. It sets up a grid layout for color information and applies the imported Rubik font.

LANGUAGE: css
CODE:
<style global jsx>{`
.rhodamine-sample {
  font-family: ${font.style.fontFamily};
  font-weight: ${font.style.fontWeight};
  padding: 1em;
}
.rhodamine-sample a { color: inherit; }
.rhodamine-sample dl dd { grid-column-start: 2; }
.rhodamine-sample dl {
  margin: 0.5em 0;
  font-size: .9rem;
  line-height: 1.5;
  display: grid;
  grid-template-columns: 1fr 3fr;
}
.rhodamine-sample dl dt {
  grid-column-start: 1;
  padding-right: 2em;
}
`}</style>

----------------------------------------

TITLE: Rendering GraphQL Essential Links Using Cards Component
DESCRIPTION: This JSX snippet uses the Cards component to render a set of essential links for the GraphQL project. Each card includes an icon, title, and link, with some cards having additional descriptions. The links cover various aspects of the GraphQL ecosystem, including documentation, community resources, and development tools.

LANGUAGE: JSX
CODE:
<Cards
  items={[
    {
      icon: TextIcon,
      title: "The GraphQL Specification",
      link: "https://spec.graphql.org",
    },
    {
      icon: CodeIcon,
      title: "GraphQL Reference Implementation",
      link: "https://graphql.org/code",
    },
    {
      icon: GitHubIcon,
      title: "The official GraphQL GitHub org",
      link: "https://github.com/graphql",
    },
    {
      icon: DiscordIcon,
      title: "The official GraphQL Discord",
      link: "https://discord.graphql.org",
    },
    {
      icon: GoogleCalendarIcon,
      title: "The GraphQL Project Calendar",
      link: "https://calendar.graphql.org",
    },
    {
      icon: GitHubIcon,
      title: "GraphQL Specification Membership Agreement",
      link: "https://github.com/graphql/graphql-wg/tree/HEAD/membership",
      description: "",
    },
    {
      icon: YouTubeIcon,
      title: "GraphQL YouTube Channel",
      link: "https://youtube.graphql.org",
    },
    {
      icon: <StarIcon className="fill-primary" />,
      title: "The GraphQL Community Grant Program",
      link: "https://graphql.org/foundation",
    },
  ]}
/>

----------------------------------------

TITLE: Initializing and Using Microfiber in JavaScript
DESCRIPTION: Example showing how to import, initialize and use the Microfiber class with GraphQL introspection query results. Creates a new instance and demonstrates the basic pattern for manipulating schema data.

LANGUAGE: javascript
CODE:
import { Microfiber } from "microfiber"

const introspectionQueryResults = {
  // ...
}

const microfiber = new Microfiber(introspectionQueryResults)

// ...do some things to your schema with `microfiber`

const cleanedIntrospectonQueryResults = microfiber.getResponse()

----------------------------------------

TITLE: Adding New Customer Mutation with Linq2GraphQL
DESCRIPTION: Shows how to perform a mutation to add a new customer to the system and return the customer ID. Demonstrates creating a CustomerInput object with required fields and executing the mutation.

LANGUAGE: csharp
CODE:
var customerId = await sampleClient
     .Mutation
     .AddCustomer(new CustomerInput
     {
         CustomerId = Guid.NewGuid(),
         CustomerName = "New Customer",
         Status = CustomerStatus.Active
     })
     .Select(e=> e.CustomerId)
     .ExecuteAsync();

----------------------------------------

TITLE: Defining GraphQL Schema Types
DESCRIPTION: Schema definition for a Product type with required and optional fields including id, name, description, and price.

LANGUAGE: graphql
CODE:
type Product {
  id: String!
  """
  The name of the product.
  A product must always have a name.
  """
  name: String!
  """
  The description of the product.
  May be null if the product doesn't have a description.
  """
  description: String
  """
  The price of the product.
  May be null if the product doesn't have a description.
  """
  price: Float
}


type Query {
  products: [Product!]!
}

----------------------------------------

TITLE: Importing Community Channel Icons in React
DESCRIPTION: Imports icon components from the icons directory for various community platforms

LANGUAGE: javascript
CODE:
import {
  RedditIcon,
  ReactifluxIcon,
  FreenodeIcon,
  StackOverflowIcon,
} from "../../../icons"
import { Cards } from "../../../components/cards"

----------------------------------------

TITLE: Installing and Running SpectaQL for GraphQL Documentation Generation
DESCRIPTION: This snippet demonstrates how to install SpectaQL using npm or yarn, and then how to generate documentation using a configuration file.

LANGUAGE: sh
CODE:
npm install --dev spectaql
# OR
yarn add -D spectaql

# Then generate your docs
npm run spectaql my-config.yml
# OR
yarn spectaql my-config.yml

----------------------------------------

TITLE: Querying Orders with Customer Data using Linq2GraphQL
DESCRIPTION: Demonstrates how to query the first 10 orders including their associated customer data using LINQ expressions. The query retrieves primitive order properties and includes related customer information.

LANGUAGE: csharp
CODE:
var orders = await sampleClient
    .Query
        .Orders(first: 10)
        .Include(e => e.Orders.Select(e => e.Customer))
        .Select(e => e.Orders)
        .ExecuteAsync();

----------------------------------------

TITLE: Using @defer Directive in GraphQL Query
DESCRIPTION: Demonstrates how to use the @defer directive in a GraphQL query to mark a fragment as non-essential for immediate return. The example shows a query for a person's name and homeworld, with the homeworld information deferred.

LANGUAGE: graphql
CODE:
query {
  person(id: "cGVvcGxlOjE=") {
    name
    ...HomeworldFragment @defer(label: "homeworldDefer")
  }
}

fragment HomeworldFragment on Person {
  homeworld {
    name
  }
}

----------------------------------------

TITLE: Rendering Vendor Channels with Cards Component in JSX
DESCRIPTION: This JSX code renders a Cards component with an array of vendor channel information, including icons, titles, and links to Discord or Slack communities for GraphQL-related products.

LANGUAGE: JSX
CODE:
<Cards
  items={[
    {
      icon: ApolloIcon,
      title: "Apollo Discord",
      link: "https://discord.gg/graphos",
    },
    {
      icon: ChillicreamIcon,
      title: "ChilliCream Slack",
      link: "https://slack.chillicream.com",
    },
    {
      icon: GraphileIcon,
      title: "Graphile Discord",
      link: "https://discord.gg/graphile",
    },
    {
      icon: StellateIcon,
      title: "Stellate Discord",
      link: "https://go.stellate.co/community",
    },
  ]}
/>

----------------------------------------

TITLE: Configuring Gradle for GraphQL Kotlin Spring WebClient
DESCRIPTION: This snippet shows how to set up the Gradle build file to use GraphQL Kotlin Spring WebClient and generate Jackson models. It includes plugin configuration and dependency setup.

LANGUAGE: kotlin
CODE:
// build.gradle.kts
import com.expediagroup.graphql.plugin.gradle.graphql

plugins {
    id("com.expediagroup.graphql") version $latestGraphQLKotlinVersion
}

dependencies {
  implementation("com.expediagroup:graphql-kotlin-spring-client:$latestGraphQLKotlinVersion")
}

graphql {
    client {
        // target GraphQL endpoint
        endpoint = "http://localhost:8080/graphql"
        // package for generated client code
        packageName = "com.example.generated"
    }
}

----------------------------------------

TITLE: Embedding GraphQL Landscape Iframe using React
DESCRIPTION: Renders an IframeResizer component to display the GraphQL Landscape in card mode, showing GraphQL Foundation members. The iframe is responsive and uses the 'lowestElement' method for height calculation.

LANGUAGE: JSX
CODE:
<IframeResizer
  className="w-full mt-6"
  src="https://landscape.graphql.org/card-mode?category=graph-ql-foundation-member&grouping=category&embed=yes&style=borderless"
  heightCalculationMethod="lowestElement"
/>

----------------------------------------

TITLE: Defining QueryType in GraphQL Schema
DESCRIPTION: JavaScript code defining the QueryType with allPeople and person fields, including their return types and resolvers.

LANGUAGE: javascript
CODE:
import {
  GraphQLList,
  GraphQLObjectType,
  GraphQLString,
} from 'graphql';

const QueryType = new GraphQLObjectType({
  name: 'Query',
  description: 'The root of all... queries',
  fields: () => ({
    allPeople: {
      type: new GraphQLList(PersonType),
      resolve: root => {} // Fetch the index of people from the REST API,
    },
    person: {
      type: PersonType,
      args: {
        id: { type: GraphQLString },
      },
      resolve: (root, args) => {} // Fetch the person with ID `args.id`,
    },
  }),
});

----------------------------------------

TITLE: Rendering Dynamic FAQ Cards with Next.js and Nextra
DESCRIPTION: Implements a dynamic card layout for FAQ entries using Nextra's Cards component. Maps through metadata entries to create individual card components with formatted titles and navigation links.

LANGUAGE: jsx
CODE:
import { Cards } from 'nextra/components'
import metaFile from './_meta'

# Frequently Asked Questions (FAQ)

<Cards>
  {Object.entries(metaFile).slice(1).map(([key]) => (
    <Cards.Card
      key={key}
      title={key.split('-').map(word => word[0].toUpperCase() + word.slice(1)).join(' ')}
      href={`/faq/${key}`} arrow
    />
  ))}
</Cards>

----------------------------------------

TITLE: Installing GraphQL Hooks Package
DESCRIPTION: Command to install the graphql-hooks package via npm package manager.

LANGUAGE: bash
CODE:
npm install graphql-hooks

----------------------------------------

TITLE: Blog Component Import and Usage
DESCRIPTION: Imports and renders the Blog component from an MDX file

LANGUAGE: javascript
CODE:
import Blog from '../blog.mdx'

<Blog/>

----------------------------------------

TITLE: Installing GraphQL Schema Building Tools
DESCRIPTION: Command to install the graphql package for building GraphQL schemas.

LANGUAGE: shell
CODE:
npm i graphql

----------------------------------------

TITLE: Generating Static Props for Tagged Pages
DESCRIPTION: Async function that builds dynamic meta data and returns props including page map and title configuration for tagged pages

LANGUAGE: javascript
CODE:
export async function getStaticProps({ params }) {
  const { __nextra_pageMap } = await buildDynamicMeta()
  return {
    props: {
      __nextra_pageMap,
      __nextra_dynamic_opts: {
        title: `Posts Tagged with "${params.slug}"`,
        frontMatter: {}
      }
    }
  }
}

----------------------------------------

TITLE: Initializing GraphQL Client Provider
DESCRIPTION: Sets up the GraphQL client instance and wraps the application with ClientContext.Provider for dependency injection. Requires configuring the GraphQL endpoint URL.

LANGUAGE: javascript
CODE:
import { GraphQLClient, ClientContext } from "graphql-hooks"

const client = new GraphQLClient({
  url: "/graphql",
})

function App() {
  return (
    <ClientContext.Provider value={client}>
      {/* children */}
    </ClientContext.Provider>
  )
}

----------------------------------------

TITLE: Generating Static Paths for Tags
DESCRIPTION: Function that generates static paths for all unique tags found in blog posts under the /blog route

LANGUAGE: javascript
CODE:
export function getStaticPaths() {
  const items = getPagesUnderRoute("/blog").flatMap(item => item.children || item)
  const tags = items.flatMap(item => item.frontMatter.tags)
  return {
    fallback: false,
    paths: [...new Set(tags)].map(slug => ({ params: { slug } })),
  }
}

----------------------------------------

TITLE: Introspection Query in GraphQL
DESCRIPTION: Demonstrates GraphQL's introspection capabilities by querying the schema for type information about the User type, showing how GraphQL APIs are self-documenting.

LANGUAGE: graphql
CODE:
{
  __type(name: "User") {
    name
    fields {
      name
      type {
        name
      }
    }
  }
}

----------------------------------------

TITLE: GraphQL Query Response
DESCRIPTION: Example JSON response from a GraphQL query showing the structured data return format.

LANGUAGE: json
CODE:
{
  "data": {
    "me": {
      "name": "Luke Skywalker"
    }
  }
}

----------------------------------------

TITLE: Querying User Data with ZeroQL in C#
DESCRIPTION: This snippet demonstrates how to use ZeroQL to query user data from a GraphQL endpoint. It showcases the Linq-like syntax for constructing queries and selecting specific fields from the User object.

LANGUAGE: csharp
CODE:
var userId = 10;
var response = await qlClient.Query(q => q
    .User(userId, o => new
    {
        o.Id,
        o.FirstName,
        o.LastName
    }));

----------------------------------------

TITLE: Importing Nextra Utilities for Page Routing
DESCRIPTION: Imports required functions from Nextra for page mapping and dynamic meta generation

LANGUAGE: javascript
CODE:
import { getPagesUnderRoute } from "nextra/context"
import { buildDynamicMeta } from "nextra/remote"

----------------------------------------

TITLE: Defining Film and Person Types in GraphQL Schema
DESCRIPTION: Defines two GraphQL types with their fields and relationships. The Film type contains metadata about movies including a deprecated director field and a relation to Person. The Person type includes name and film relationship fields for directing and acting roles.

LANGUAGE: graphql
CODE:
type Film {
  title: String
  episode: Int
  releaseDate: String
  openingCrawl: String
  director: String @deprecated
  directedBy: Person
}

type Person {
  name: String
  directed: [Film]
  actedIn: [Film]
}

----------------------------------------

TITLE: Implementing Field Resolvers in JavaScript
DESCRIPTION: Shows implementation of resolver functions for Query and User types to fetch data from authentication context and database.

LANGUAGE: javascript
CODE:
// Provide data for the `me` field on the `Query` type
function Query_me(query, args, context, info) {
  return context.request.auth.user
}

// Provide data for the `name` field on the `User` type
function User_name(user, args, context, info) {
  return context.db.getUserFullName(user.id)
}

----------------------------------------

TITLE: Custom Schema Root Types
DESCRIPTION: Example showing how to customize the names of root operation types

LANGUAGE: graphql
CODE:
schema {
  query: MyQueryType
  mutation: MyMutationType
  subscription: MySubscriptionType
}

----------------------------------------

TITLE: Defining GraphQL Schema for Star Wars API
DESCRIPTION: This GraphQL schema defines the structure for a Star Wars-themed API. It includes types for Query, Character, Planet, and Species, with fields representing various attributes and relationships between these entities.

LANGUAGE: graphql
CODE:
type Query {
  hero: Character
}

type Character {
  name: String
  friends: [Character]
  homeWorld: Planet
  species: Species
}

type Planet {
  name: String
  climate: String
}

type Species {
  name: String
  lifespan: Int
  origin: Planet
}

----------------------------------------

TITLE: GZIP Request Header Configuration
DESCRIPTION: HTTP header configuration for enabling GZIP compression in GraphQL API responses.

LANGUAGE: text
CODE:
Accept-Encoding: gzip

----------------------------------------

TITLE: Configuring Ariadne Codegen in pyproject.toml
DESCRIPTION: TOML configuration for Ariadne Codegen specifying the path to GraphQL queries and the remote schema URL.

LANGUAGE: toml
CODE:
[ariadne-codegen]
queries_path = "queries.graphql"
remote_schema_url = "http://example.com/graphql/"

----------------------------------------

TITLE: GraphQL Syntax Error Example
DESCRIPTION: Demonstrates a syntax error in GraphQL where an invalid operation keyword is used, showing how request errors are handled.

LANGUAGE: graphql
CODE:
operation { 
  updateHumanName(id: "1000", name: "Luke Starkiller" ) {
    id
    name
  }
}

----------------------------------------

TITLE: Implementing GraphQL Character Type in Python
DESCRIPTION: This code snippet defines a Character class that corresponds to a GraphQL type. It includes methods for retrieving the character's name, home world, and friends. The class uses helper functions fetchHomeworld and fetchCharacter to resolve related data.

LANGUAGE: Python
CODE:
# type Character {
class Character:
  # name: String
  def name(self):
    return self._name

  # homeWorld: Planet
  def homeWorld(self):
    return fetchHomeworld(self._homeworldID)

  # friends: [Character]
  def friends(self):
    return map(fetchCharacter, self._friendIDs)

----------------------------------------

TITLE: GraphQL Field Validation Error Example
DESCRIPTION: Shows a validation error when requesting a non-existent field on a type, demonstrating schema validation.

LANGUAGE: graphql
CODE:
query {
  starship(id: 3000) {
    width
  }
}

----------------------------------------

TITLE: Initializing WunderGraph Project with Next.js
DESCRIPTION: Command to bootstrap a new WunderGraph project using create-wundergraph-app with Next.js and SWR template.

LANGUAGE: bash
CODE:
npx create-wundergraph-app my-project -E nextjs-swr

----------------------------------------

TITLE: Querying Human Data in GraphQL
DESCRIPTION: Example of a basic GraphQL query requesting information about a human entity, demonstrating the standard response structure with the data key.

LANGUAGE: graphql
CODE:
query {
  human(id: 1002) {
    name
    appearsIn
    starships {
      name
    }
  }
}

----------------------------------------

TITLE: Querying Project Tagline with GraphQL
DESCRIPTION: A basic GraphQL query that retrieves the tagline field for a project named 'GraphQL'. Demonstrates field selection and argument passing in GraphQL syntax.

LANGUAGE: graphql
CODE:
{
  project(name: "GraphQL") {
    tagline
  }
}

----------------------------------------

TITLE: Invalid Selection Set Query in GraphQL
DESCRIPTION: Shows an invalid query where a non-scalar field 'hero' is queried without specifying which fields to return.

LANGUAGE: graphql
CODE:
query {
  hero
}

----------------------------------------

TITLE: Importing and configuring Rubik font for GraphQL branding in Next.js
DESCRIPTION: This snippet imports the Rubik font from Google Fonts using Next.js font optimization. It configures the font with a specific weight and subset for use in the GraphQL branding.

LANGUAGE: jsx
CODE:
import { Rubik } from 'next/font/google'

export const font = Rubik({
  weight: ['300'],
  subsets: ['latin']
})

----------------------------------------

TITLE: Example GraphQL Library Documentation - Express GraphQL
DESCRIPTION: Demonstrates the ideal format for documenting a GraphQL library, including YAML frontmatter with metadata and code examples showing usage.

LANGUAGE: markdown
CODE:
---
name: Express GraphQL
description: The reference implementation of a GraphQL API server over an Express webserver. You can use this to run GraphQL in conjunction with a regular Express webserver, or as a standalone GraphQL server.
url: /graphql-js/running-an-express-graphql-server/
github: graphql/graphql-http
npm: "graphql-http"
---

To run an `graphql-http` hello world server:

```sh
npm install express graphql-http graphql
```

Then run `node server.js` with this code in `server.js`:

```js
var express = require("express")
var { createHandler } = require("graphql-http/lib/use/express")
var { buildSchema } = require("graphql")

var schema = buildSchema(/* GraphQL */ `
  type Query {
    hello: String
  }
`)

var root = { hello: () => "Hello world!" }

var app = express()
app.all(
  "/graphql",
  createHandler({
    schema: schema,
    rootValue: root,
  }),
)
app.listen(4000, () => console.log("Now browse to localhost:4000/graphql"))
```

----------------------------------------

TITLE: Defining Post Type Schema in GraphQL
DESCRIPTION: Basic GraphQL type definition for a Post type with authorId and body fields

LANGUAGE: graphql
CODE:
type Post {
  authorId: ID!
  body: String
}

----------------------------------------

TITLE: React component for GraphQL brand agreement and asset download
DESCRIPTION: This React component creates a user interface for agreeing to the GraphQL brand guidelines and enabling download links. It uses useState for managing the agreement state and conditional rendering for the download links.

LANGUAGE: jsx
CODE:
export function AgreeActions() {
  const [agree, setAgree] = useState(false);
  return (
    <div className="flex items-center flex-col gap-5 bg-zinc-100 dark:bg-zinc-800 p-5 border rounded">
      <div className="flex gap-2">
        <input
          id="agree"
          type="checkbox"
          checked={agree}
          onChange={(event) => setAgree(event.target.checked)}
        />
        <label htmlFor="agree" className="cursor-pointer">
          I have read and accept the brand and trademark guidelines.
        </label>
      </div>
      <a
        {...(agree
          ? { href: "/img/brand/graphql-brand-assets.zip" }
          : { className: "cursor-not-allowed text-gray-500 dark:text-gray-400" })}
      >
          Download Logo Files
      </a>
      <a
        {...(agree
          ? { href: "mailto:info@graphql.org?subject=Trademark%20Request" }
          : { className: "cursor-not-allowed text-gray-500 dark:text-gray-400" })}
      >
          Request Permission
      </a>
    </div>
  );
}

----------------------------------------

TITLE: Running the GraphQL Server
DESCRIPTION: This command starts the Node.js server with the GraphQL API.

LANGUAGE: bash
CODE:
node server.js

----------------------------------------

TITLE: Directory Structure Example - GraphQL Code Documentation
DESCRIPTION: Shows the tree structure of the code documentation directory, demonstrating how different language implementations and tools are organized.

LANGUAGE: sh
CODE:
$ tree src/code
src/code
â”œâ”€â”€ language-support
â”‚   â”œâ”€â”€ c-c
â”‚   â”‚   â””â”€â”€ tools
â”‚   â”‚       â””â”€â”€ libgraphqlparser.md
â”‚   â”œâ”€â”€ clojure
â”‚   â”‚   â”œâ”€â”€ client
â”‚   â”‚   â”‚   â””â”€â”€ regraph.md
â”‚   â”‚   â””â”€â”€ server
â”‚   â”‚       â”œâ”€â”€ alumbra.md
â”‚   â”‚       â”œâ”€â”€ graphql-clj.md
â”‚   â”‚       â””â”€â”€ lacinia.md
â”‚   â”œâ”€â”€ c-net
â”‚   â”‚   â”œâ”€â”€ client
â”‚   â”‚   â”‚   â”œâ”€â”€ graphql-client.md
â”‚   â”‚   â”‚   â”œâ”€â”€ graphql-net-client.md
â”‚   â”‚   â”‚   â””â”€â”€ sahb-graphqlclient.md
// etc

----------------------------------------

TITLE: Example GraphQL Query for Federated Schema
DESCRIPTION: This snippet shows an example GraphQL query that spans multiple subgraphs, demonstrating how the federation gateway routes parts of the query to appropriate subgraphs.

LANGUAGE: graphql
CODE:
query {
  user(id: "123") {
    # Resolved by Users subgraph
    name
    orders {
      # Resolved by Orders subgraph
      id
      products {
        # Resolved by Products subgraph
        title
        price
      }
    }
  }
}

----------------------------------------

TITLE: Fetching Draft Email Previews in GraphQL
DESCRIPTION: This GraphQL query retrieves preview information for the first 20 draft emails in the main account. It showcases the use of fragments for reusable field selections.

LANGUAGE: graphql
CODE:
{
  mainAccount {
    drafts(first: 20) {
      ...previewInfo
    }
  }
}

fragment previewInfo on Email {
  subject
  bodyPreviewSentence
}

----------------------------------------

TITLE: Static Props Generator for GraphQL Tools Catalog
DESCRIPTION: Next.js getStaticProps implementation that processes markdown files containing tool/library information. It extracts frontmatter, compiles MDX content, processes tags, validates URLs, and aggregates GitHub statistics.

LANGUAGE: javascript
CODE:
export const getStaticProps = async () => {
  const filePaths = await fg("./src/code/**/*.md")
  const results = []
  const allTags = Object.create(null)
  //
  for (const filePath of filePaths) {
    let segments = path.relative("./src/code", filePath).split("/").slice(0, -1)
    // Do not add `language-support` as tag
    if (segments[0] === "language-support") segments = segments.slice(1)
    // Do not add all folders as tags under `tools` folder
    if (segments[0] === "tools") segments.splice(1, 1)
    const rawMdx = await readFile(filePath, "utf8")
    let hasDescription = false
    const { result: compiledSource, frontMatter } = await compileMdx(rawMdx, {
      mdxOptions: {
        format: "md",
        remarkPlugins: [
          () => tree => {
            hasDescription =
              tree.children.length > 1 &&
              tree.children.some(node => node.type !== "yaml")
          },
        ],
      },
    })
    //
    for (const tag of segments) {
      if (tag.includes("_")) {
        throw new Error(
          `Tag ${tag} contains an underscore, which is not allowed.`,
        )
      }
      allTags[tag] ??= 0
      allTags[tag] += 1
    }
    if (
      frontMatter.url &&
      frontMatter.github &&
      frontMatter.url
        .toLowerCase()
        .replace(/\/$/, "")
        .endsWith(frontMatter.github.toLowerCase())
    ) {
      throw new Error(
        `Remove frontmatter.url since URL "${frontMatter.url}" ends with the same slug as the GitHub repo "${frontMatter.github}".`,
      )
    }
    const stars = githubInfo[frontMatter.github]
    results.push({
      filePath,
      tags: segments,
      frontMatter,
      ...(stars && {
        stars: stars.stars,
        formattedStars: stars.formattedStars,
        lastRelease: stars.formattedLastRelease,
        license: stars.license,
      }),
      ...(hasDescription && { compiledSource }),
    })
  }
  //
  const allTagsList = Object.entries(allTags)
    .map(([tag, count]) => ({
      tag,
      count,
      name: slugMap[tag] ?? tag,
    }))
    .sort((a, b) => b.count - a.count || a.tag.localeCompare(b.tag))
  //
  return {
    props: {
      data: results.sort((a, b) => (b.stars ?? 0) - (a.stars ?? 0)),
      allTags: allTagsList,
    },
  }
}

----------------------------------------

TITLE: Defining GraphQL Schema
DESCRIPTION: Basic GraphQL schema definition that declares a Query type with a single hello field returning a String.

LANGUAGE: graphql
CODE:
type Query {
  hello: String
}

----------------------------------------

TITLE: Implementing RandomDie Class in JavaScript
DESCRIPTION: This code snippet shows the implementation of the RandomDie class in JavaScript, including methods for rolling dice and a root resolver for creating a RandomDie instance.

LANGUAGE: javascript
CODE:
class RandomDie {
  constructor(numSides) {
    this.numSides = numSides
  }

  rollOnce() {
    return 1 + Math.floor(Math.random() * this.numSides)
  }

  roll({ numRolls }) {
    var output = []
    for (var i = 0; i < numRolls; i++) {
      output.push(this.rollOnce())
    }
    return output
  }
}

var root = {
  getDie({ numSides }) {
    return new RandomDie(numSides || 6)
  },
}

----------------------------------------

TITLE: Querying Unread Email Count in GraphQL
DESCRIPTION: This GraphQL query fetches the number of unread emails in the inbox for all user accounts. It demonstrates the graph-like structure of GraphQL queries.

LANGUAGE: graphql
CODE:
{
  accounts {
    inbox {
      unreadEmailCount
    }
  }
}

----------------------------------------

TITLE: Importing Icons and Cards Component for GraphQL Vendor Channels
DESCRIPTION: This snippet imports custom icons for various GraphQL vendors and a Cards component, likely used to display the vendor channels in a structured format.

LANGUAGE: JavaScript
CODE:
import {
  StellateIcon,
  ChillicreamIcon,
  ApolloIcon,
  GraphileIcon,
} from "../../../icons"
import { Cards } from '../../../components/cards'

----------------------------------------

TITLE: Defining Django Model Structure
DESCRIPTION: Example Django model definition for a Question entity with text, publication date and active status fields

LANGUAGE: python
CODE:
from django.db import models


class Question(models.Model):
    question_text = models.CharField(max_length=200)
    pub_date = models.DateTimeField('date published')
    is_active = models.BooleanField(default=True)

----------------------------------------

TITLE: Defining RandomDie and Query Types in GraphQL
DESCRIPTION: This snippet demonstrates how to define a RandomDie object type with a roll method and a Query type with a getDie method in GraphQL schema language.

LANGUAGE: graphql
CODE:
type RandomDie {
  roll(numRolls: Int!): [Int]
}

type Query {
  getDie(numSides: Int): RandomDie
}

----------------------------------------

TITLE: Defining Subscription Fields in GraphQL Schema
DESCRIPTION: Demonstrates how to define subscription fields in a GraphQL schema using the 'subscription' root operation type.

LANGUAGE: graphql
CODE:
type Subscription {
  reviewCreated: Review
}

----------------------------------------

TITLE: Rendering Community Channel Cards Component
DESCRIPTION: JSX component that renders a Cards component with an array of community channel objects containing icons, titles, links and descriptions

LANGUAGE: jsx
CODE:
<Cards
  items={[
    {
      icon: RedditIcon,
      title: "GraphQL Reddit Community",
      link: "https://reddit.com/r/graphql",
    },
    {
      icon: ReactifluxIcon,
      title: "Reactiflux Discord",
      link: "https://join.reactiflux.com",
      description: "#help-graphql",
    },
    {
      icon: FreenodeIcon,
      title: "Freenode IRC",
      link: "https://freenode.net",
      description: "#graphql",
    },
    {
      icon: StackOverflowIcon,
      title: "Stack Overflow",
      link: "https://stackoverflow.com/questions/tagged/graphql",
    },
  ]}
/>

----------------------------------------

TITLE: Installing Graphene Django CRUDDALS Package
DESCRIPTION: Command to install the graphene-django-cruddals package using pip package manager

LANGUAGE: bash
CODE:
pip install graphene-django-cruddals

----------------------------------------

TITLE: Client-side GraphQL Query with Variables
DESCRIPTION: This snippet demonstrates how to use variables in a GraphQL query on the client-side. It shows the definition of variables in the query and how to pass them separately in the request body.

LANGUAGE: javascript
CODE:
var dice = 3
var sides = 6
var query = /* GraphQL */`query RollDice($dice: Int!, $sides: Int) {
  rollDice(numDice: $dice, numSides: $sides)
}`

fetch("/graphql", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    Accept: "application/json",
  },
  body: JSON.stringify({
    query,
    variables: { dice, sides },
  }),
})
  .then(r => r.json())
  .then(data => console.log("data returned:", data))

----------------------------------------

TITLE: Defining GraphQL Input Type for Review Creation
DESCRIPTION: This snippet shows the definition of a 'ReviewInput' type and a 'createReview' mutation. It illustrates the need for validating and sanitizing input, especially for fields like 'commentary' that might contain user-submitted content.

LANGUAGE: graphql
CODE:
input ReviewInput {
  stars: Int!
  commentary: String
}

type Mutation {
  createReview(episode: Episode, review: ReviewInput!): Review
}

----------------------------------------

TITLE: Rendering IframeResizer Component for GraphQL Foundation Members
DESCRIPTION: This JSX code renders an IframeResizer component to display GraphQL Foundation members. It sets various props including the source URL, styling, and calculation method for the iframe's height.

LANGUAGE: JSX
CODE:
<IframeResizer
  className="w-full mt-6"
  src="https://graphql.landscape2.io/embed/embed.html?base-path=&classify=category&key=graphql-foundation-member&headers=false&category-header=false&category-in-subcategory=false&title-uppercase=false&title-alignment=left&title-font-family=sans-serif&title-font-size=13&style=clean&bg-color=%2348264b&fg-color=%23ffffff&item-modal=false&item-name=false&size=xl&items-alignment=left&iframe-resizer=true"
  heightCalculationMethodeightCalculationMethod="max"
/>

----------------------------------------

TITLE: Installing Ariadne with pip
DESCRIPTION: Command to install the Ariadne library using pip package manager.

LANGUAGE: bash
CODE:
$ pip install ariadne

----------------------------------------

TITLE: Building GraphQL Schema from Schema Language in TypeScript
DESCRIPTION: Function signature for buildSchema, which creates a GraphQLSchema object from a GraphQL schema language string or Source object.

LANGUAGE: typescript
CODE:
function buildSchema(source: string | Source): GraphQLSchema

----------------------------------------

TITLE: Auth Directive Schema Definition
DESCRIPTION: GraphQL schema definition showing how to use directives for authorization rules

LANGUAGE: graphql
CODE:
directive @auth(rule: Rule) on FIELD_DEFINITION

enum Rule {
  IS_AUTHOR
}

type Post {
  authorId: ID!
  body: String @auth(rule: IS_AUTHOR)
}

----------------------------------------

TITLE: Installing GraphQLBox Dependencies
DESCRIPTION: This command installs the necessary npm packages for setting up a GraphQLBox server with caching and debugging capabilities.

LANGUAGE: bash
CODE:
npm install @graphql-box/core @graphql-box/server @graphql-box/client @graphql-box/request-parser @graphql-box/cache-manager @graphql-box/debug-manager @graphql-box/execute @graphql-box/helpers @cachemap/core @cachemap/reaper @cachemap/redis @cachemap/constants @cachemap/types

----------------------------------------

TITLE: Importing IframeResizer Component in React
DESCRIPTION: This snippet imports the IframeResizer component from the 'iframe-resizer-react' package. This component is used to create a responsive iframe for displaying GraphQL Foundation members.

LANGUAGE: JavaScript
CODE:
import IframeResizer from "iframe-resizer-react"

----------------------------------------

TITLE: Installing GraphQLBox Dependencies
DESCRIPTION: This command installs the necessary npm packages for setting up a GraphQLBox server with caching and debugging capabilities.

LANGUAGE: bash
CODE:
npm install @graphql-box/core @graphql-box/server @graphql-box/client @graphql-box/request-parser @graphql-box/cache-manager @graphql-box/debug-manager @graphql-box/execute @graphql-box/helpers @cachemap/core @cachemap/reaper @cachemap/redis @cachemap/constants @cachemap/types

----------------------------------------

TITLE: TypeInfo Class for GraphQL AST Traversal in TypeScript
DESCRIPTION: Class definition for TypeInfo, which tracks type and field definitions during a visitor AST traversal of a GraphQL document.

LANGUAGE: typescript
CODE:
class TypeInfo {
  constructor(schema: GraphQLSchema)
  getType(): GraphQLOutputType
  getParentType(): GraphQLCompositeType
  getInputType(): GraphQLInputType
  getFieldDef(): GraphQLFieldDefinition
  getDirective(): GraphQLDirective
  getArgument(): GraphQLArgument
}

----------------------------------------

TITLE: Field Resolver Using Business Layer
DESCRIPTION: GraphQL resolver implementation that delegates authorization to the business layer

LANGUAGE: javascript
CODE:
import { postRepository } from 'postRepository'

function Post_body(obj, args, context, info) {
  // return the post body only if the user is the post's author
  return postRepository.getBody({ user: context.user, post: obj })
}

----------------------------------------

TITLE: Markdown Import Statement
DESCRIPTION: Import statement for the Button component used in the documentation.

LANGUAGE: markdown
CODE:
import { Button } from "../../../app/conf/_components/button"

----------------------------------------

TITLE: Implementing GraphQL Middleware with Apollo Server
DESCRIPTION: Example showing how to set up GraphQL middleware for logging resolver inputs and results using Apollo Server. Demonstrates middleware application to a schema with two query resolvers (hello and bye) and includes logging of execution flow.

LANGUAGE: typescript
CODE:
const { ApolloServer } = require("apollo-server")
const { makeExecutableSchema } = require("@graphql-tools/schema")

const typeDefs = `
type Query {
  hello(name: String): String
  bye(name: String): String
}
`
const resolvers = {
  Query: {
    hello: (root, args, context, info) => {
      console.log(`3. resolver: hello`)
      return `Hello ${args.name ? args.name : "world"}!`
    },
    bye: (root, args, context, info) => {
      console.log(`3. resolver: bye`)
      return `Bye ${args.name ? args.name : "world"}!`
    },
  },
}

const logInput = async (resolve, root, args, context, info) => {
  console.log(`1. logInput: ${JSON.stringify(args)}`)
  const result = await resolve(root, args, context, info)
  console.log(`5. logInput`)
  return result
}

const logResult = async (resolve, root, args, context, info) => {
  console.log(`2. logResult`)
  const result = await resolve(root, args, context, info)
  console.log(`4. logResult: ${JSON.stringify(result)}`)
  return result
}

const schema = makeExecutableSchema({ typeDefs, resolvers })

const schemaWithMiddleware = applyMiddleware(schema, logInput, logResult)

const server = new ApolloServer({
  schema: schemaWithMiddleware,
})

await server.listen({ port: 8008 })

----------------------------------------

TITLE: Using GraphQLNonNull in Object Type Fields
DESCRIPTION: Example of using GraphQLNonNull to define a required field in an object type.

LANGUAGE: javascript
CODE:
var RowType = new GraphQLObjectType({
  name: "Row",
  fields: () => ({
    id: { type: new GraphQLNonNull(String) },
  }),
})

----------------------------------------

TITLE: Rendering Cards Component with GraphQL Best Practices in JSX
DESCRIPTION: This code snippet renders a Cards component with an array of items representing different GraphQL best practice topics. Each item includes a title, link, and description for various aspects of GraphQL implementation.

LANGUAGE: jsx
CODE:
import { Cards } from '../../components/cards'

<Cards
  items={[
    {
      title: "Thinking in Graphs",
      link: "/learn/thinking-in-graphs/",
      description: "Model your business domain as a graph",
    },
    {
      title: "Serving over HTTP",
      link: "/learn/serving-over-http/",
      description: "Handle GraphQL requests on HTTP servers",
    },
    {
      title: "Authorization",
      link: "/learn/authorization/",
      description: "Delegate authorization logic to the business logic layer",
    },
    {
      title: "Pagination",
      link: "/learn/pagination/",
      description: "Allow clients to traverse lists of objects with a consistent field pagination model",
    },
    {
      title: "Schema Design",
      link: "/learn/schema-design/",
      description: "Design and evolve a type system over time without versions",
    },
    {
      title: "Global Object Identification",
      link: "/learn/global-object-identification/",
      description: "Consistent object access enables simple caching and object lookups",
        },
    {
      title: "Caching",
      link: "/learn/caching/",
      description: "Provide Object Identifiers so clients can build rich caches",
    },
    {
      title: "Performance",
      link: "/learn/performance/",
      description: "Optimize the execution and delivery of GraphQL responses",
    },
    {
      title: "Security",
      link: "/learn/security/",
      description: "Protect GraphQL APIs from malicious operations",
    },
  ]}
/>

----------------------------------------

TITLE: Displaying GraphQL Foundation Mailing Address in Text Format
DESCRIPTION: This code snippet shows the mailing address for the GraphQL Foundation in a formatted text block. It includes the foundation name, street address, PMB number, city, state, zip code, and country.

LANGUAGE: text
CODE:
GraphQL Foundation
548 Market St
PMB 57274
San Francisco, California
94104-5401 US

----------------------------------------

TITLE: Querying Heroes Data with Custom Layout in GraphQL
DESCRIPTION: This GraphQL query retrieves the first and last names of heroes, using a custom _layout argument to specify a table display format. The _layout argument is not sent to the service but is used by Brangr for rendering.

LANGUAGE: graphql
CODE:
query {
  heroes(_layout: { type: table }) { # _layout arg not sent to service
    first
    last
  }
}

----------------------------------------

TITLE: Creating a GraphQLSchema in JavaScript
DESCRIPTION: Example of creating a new GraphQLSchema with query and mutation root types.

LANGUAGE: javascript
CODE:
var MyAppSchema = new GraphQLSchema({
  query: MyAppQueryRootType,
  mutation: MyAppMutationRootType
});

----------------------------------------

TITLE: Interactive Hero Query Example
DESCRIPTION: Sample query template for interactive learning with the SWAPI GraphQL schema.

LANGUAGE: graphql
CODE:
# { "graphiql": true }
{
  hero {
    name
    # add additional fields here!
  }
}

----------------------------------------

TITLE: Event Sorting Logic in JavaScript
DESCRIPTION: Logic to separate events into past and upcoming categories based on the current date

LANGUAGE: JavaScript
CODE:
export const { pastEvents, upcomingEvents } = events.reduce(
  (acc, event) => {
    const now = new Date()
    const date = new Date(event.date)
    if (date < now) {
      acc.pastEvents.push(event)
    } else {
      acc.upcomingEvents.push(event)
    }
    return acc
  },
  { pastEvents: [], upcomingEvents: [] }
)

----------------------------------------

TITLE: Testing GraphQL Query with cURL
DESCRIPTION: Example of querying the GraphQL server using cURL to fetch a person's name and their friends' names.

LANGUAGE: bash
CODE:
$ curl -XPOST "http://0:3000" -H'Content-Type: application/json' -d'{
  "query": "{ me { name, friends { name } } }"
}'
{"data":{"me":{"name":"Person #0","friends":[{"name":"Person #1"},{"name":"Person #2"}]}}}

----------------------------------------

TITLE: GraphQL HTTP Handler Configuration Interface
DESCRIPTION: TypeScript interface showing the configuration options for creating a GraphQL HTTP handler, including schema, rootValue, context, formatError, and validationRules parameters.

LANGUAGE: typescript
CODE:
function createHandler({
  schema,
  rootValue,
  context,
  formatError,
  validationRules,
}: {
  rootValue?: any,
  context?: any,
  formatError?: Function,
  validationRules?: any[],
}): Handler

----------------------------------------

TITLE: GraphQL Schema with Deprecation
DESCRIPTION: Demonstrates how to evolve a GraphQL schema by deprecating fields while maintaining backward compatibility.

LANGUAGE: graphql
CODE:
type User {
  fullName: String
  nickname: String
  name: String @deprecated(reason: "Use `fullName`.")
}

----------------------------------------

TITLE: Blog Component Implementation with Tag Filtering in Next.js
DESCRIPTION: A React component that renders a blog listing page with tag filtering and chronological sorting. It processes blog posts retrieved via Nextra's getPagesUnderRoute, manages tag filtering, and displays posts with their metadata including dates, tags, and authors.

LANGUAGE: JavaScript
CODE:
export default function Blog() {
  const { asPath } = useRouter()
  const items = getPagesUnderRoute("/blog").flatMap(item => item.children || item)
  const blogs = items.sort(
    (a, b) => b.frontMatter.date - a.frontMatter.date,
  )
  const currentTag = asPath.startsWith("/blog")
    ? ""
    : asPath.replace("/tags/", "").replace(/\/$/, "")
  //
  const tags = blogs
    .flatMap(blog => blog.frontMatter.tags)
    .reduce((acc, tag) => {
      acc[tag] ||= 0
      acc[tag] += 1
      return acc
    }, {})
  //
  const tagList = (
    <div className="flex gap-3 md:gap-5 mt-6 flex-wrap roboto-mono">
      {Object.entries(tags)
        .sort((a, b) => b[1] - a[1])
        .map(([tag, count]) => (
          <NextLink
            key={tag}
            href={currentTag === tag ? "/blog" : `/tags/${tag}`}
            data-active={currentTag === tag ? "" : undefined}
            className={clsx("tag [&[data-active]]:bg-primary capitalize")}
          >
            {tag.replaceAll("-", " ")} ({count})
          </NextLink>
        ))}
    </div>
  )
  //
  const blogList = blogs.map(
    page =>
      (!currentTag || page.frontMatter.tags.includes(currentTag)) && (
        <Card
          key={page.route}
          as={Link}
          href={page.route}
          className="flex flex-col"
        >
          <div className="gap-2 flex mb-7">
            {page.frontMatter.tags.map(tag => (
              <Tag key={tag}>{tag.replaceAll("-", " ")}</Tag>
            ))}
          </div>
          <div className="font-extrabold text-xl md:text-3xl text-balance">
            {page.frontMatter.title}
          </div>
          <div className="opacity-50 text-sm my-7 flex gap-2">
            <time dateTime={page.frontMatter.date.toISOString()}>
              {page.frontMatter.date.toLocaleDateString("en", {
                month: "long",
                day: "numeric",
                year: "numeric",
              })}
            </time>
            <span className="border-r border-gray-500" />
            <span>by {page.frontMatter.byline}</span>
          </div>
          <span className="text-primary block font-bold mt-auto">
            Read more â†’
          </span>
        </Card>
      ),
  )
  return (
    <>
      <div className="py-10 md:py-20 container">
        <h1 className="text-4xl md:text-7xl font-extrabold mb-10">Blog</h1>
        <h3 className="text-2xl font-bold">Categories</h3>
        {tagList}
      </div>
      <div className="container grid md:grid-cols-2 gap-7 pb-10">
        {blogList}
      </div>
    </>
  )
}

----------------------------------------

TITLE: Implementing Resolver Function with Arguments
DESCRIPTION: This snippet demonstrates how to implement a resolver function that handles the arguments defined in the schema. It uses ES6 destructuring to extract the arguments and provides a default value for 'numSides'.

LANGUAGE: javascript
CODE:
var root = {
  rollDice({ numDice, numSides }) {
    var output = []
    for (var i = 0; i < numDice; i++) {
      output.push(1 + Math.floor(Math.random() * (numSides || 6)))
    }
    return output
  },
}

----------------------------------------

TITLE: Importing GraphQL Validation Module
DESCRIPTION: Examples of importing the validate function from the GraphQL validation module using ES6 and CommonJS syntax.

LANGUAGE: javascript
CODE:
import { validate } from "graphql/validation" // ES6
var { validate } = require("graphql/validation") // CommonJS

----------------------------------------

TITLE: Response Payloads for @defer GraphQL Query
DESCRIPTION: Shows the multiple JSON payloads returned by a GraphQL server in response to a query using the @defer directive. The first payload contains the immediate data, while the second payload includes the deferred data.

LANGUAGE: json
CODE:
{
  "data": {
    "person": {
      "name": "Luke Skywalker"
    }
  },
  "hasNext": true
}

LANGUAGE: json
CODE:
{
  "label": "homeworldDefer",
  "path": ["person"],
  "data": {
    "homeworld": {
      "name": "Tatooine"
    }
  },
  "hasNext": false
}

----------------------------------------

TITLE: Implementing Hello World with GraphQL Ruby
DESCRIPTION: A basic Ruby script demonstrating how to create a GraphQL schema, define a query type with a 'hello' field, and execute a simple query. This example showcases the core functionality of the graphql-ruby library.

LANGUAGE: ruby
CODE:
require 'graphql'

class QueryType < GraphQL::Schema::Object
  field :hello, String

  def hello
    "Hello world!"
  end
end

class Schema < GraphQL::Schema
  query QueryType
end

puts Schema.execute('{ hello }').to_json

----------------------------------------

TITLE: Importing Components and Icons for GraphQL Essential Links
DESCRIPTION: This snippet imports the necessary components and icons used in the GraphQL essential links display. It includes the Cards component and various icons representing different types of resources.

LANGUAGE: JavaScript
CODE:
import { Cards } from "../../../components/cards"
import {
  GitHubIcon,
  DiscordIcon,
  StarIcon,
  CodeIcon,
  TextIcon,
  GoogleCalendarIcon,
  YouTubeIcon,
} from "../../../icons"

----------------------------------------

TITLE: GraphQL Validate Function Definition
DESCRIPTION: TypeScript definition of the validate function that performs synchronous validation of a GraphQL document against a schema. Returns an array of GraphQLError objects.

LANGUAGE: typescript
CODE:
function validate(
  schema: GraphQLSchema,
  ast: Document,
  rules?: any[]
): GraphQLError[]

----------------------------------------

TITLE: Story Like Subscription Input Type in GraphQL
DESCRIPTION: Input type definition for the story like subscription, specifying required fields for subscription.

LANGUAGE: graphql
CODE:
input StoryLikeSubscribeInput {
  storyId: string
  clientSubscriptionId: string
}

----------------------------------------

TITLE: Installing graphql-ruby Gem
DESCRIPTION: Command to install the graphql gem using Ruby's package manager.

LANGUAGE: bash
CODE:
gem install graphql

----------------------------------------

TITLE: Installing Strawberry GraphQL Library in Python
DESCRIPTION: This command installs the Strawberry GraphQL library using pip, the Python package installer.

LANGUAGE: bash
CODE:
pip install strawberry-graphql

----------------------------------------

TITLE: Installing GQty CLI with Package Managers
DESCRIPTION: Command line instructions for installing GQty using different package managers (npm, yarn, and pnpm). The CLI provides interactive codegen functionality for setting up GQty in your project.

LANGUAGE: bash
CODE:
# npm
npx @gqty/cli

# yarn
yarn dlx @gqty/cli

# pnpm
pnpm dlx @gqty/cli

----------------------------------------

TITLE: Installing Tartiflette via pip
DESCRIPTION: Command to install the Tartiflette GraphQL library using pip package manager

LANGUAGE: shell
CODE:
pip install tartiflette

----------------------------------------

TITLE: Installing Graphene with pip
DESCRIPTION: This command installs the Graphene library using pip, the Python package installer.

LANGUAGE: bash
CODE:
pip install graphene

----------------------------------------

TITLE: Manual GraphQL Query Execution in Julia
DESCRIPTION: This snippet shows how to manually write a GraphQL query string and execute it using the GraphQLClient.execute function.

LANGUAGE: julia
CODE:
query_string = """
    {
    countries{
        name
    }
}"""

response = GraphQLClient.execute(client, query_string)

----------------------------------------

TITLE: Installing Python GraphQL Client Package
DESCRIPTION: Command to install the pydantic-graphql package using pip package manager

LANGUAGE: console
CODE:
pip3 install pydantic-graphql

----------------------------------------

TITLE: Implementing GraphQL Query and Type with GraphQLite Annotations
DESCRIPTION: Example showing how to define a GraphQL product query and Product type using GraphQLite annotations. Demonstrates the @Query annotation for resolvers and @Type/@Field annotations for type definitions.

LANGUAGE: php
CODE:
class ProductController
{
    /**
     * @Query()
     */
    public function product(string $id): Product
    {
        // Some code that looks for a product and returns it.
    }
}

/**
 * @Type()
 */
class Product
{
    /**
     * @Field()
     */
    public function getName(): string
    {
        return $this->name;
    }
    // ...
}

----------------------------------------

TITLE: Installing GraphQLClient Package in Julia
DESCRIPTION: This snippet demonstrates how to install the GraphQLClient package using Julia's package manager and import it into the current session.

LANGUAGE: julia
CODE:
using Pkg; Pkg.add("GraphQLClient")
using GraphQLClient

----------------------------------------

TITLE: Rendering Official GraphQL Channels with Cards Component in JSX
DESCRIPTION: This JSX snippet uses the Cards component to render a list of official GraphQL channels. Each channel is represented by an object with properties for icon, title, link, and optional description. The channels include various social media platforms, documentation resources, and community tools.

LANGUAGE: JSX
CODE:
<Cards
  items={[
    {
      icon: GitHubIcon,
      title: "GitHub",
      link: "https://github.com/graphql",
    },
    {
      icon: FileTextIcon,
      title: "Blog",
      link: "/blog",
      description: "graphql.org/blog",
    },
    {
      icon: GoogleCalendarIcon,
      title: "Google Calendar",
      link: "https://calendar.graphql.org",
    },
    {
      icon: DiscordIcon,
      title: "Discord",
      link: "https://discord.graphql.org",
    },
    {
      icon: CodeIcon,
      title: "Tools and libraries",
      link: "/code",
      description: "graphql.org/code",
    },
    {
      icon: FoundationTalksChannel,
      title: "Talks",
      link: "https://www.youtube.com/@GraphQLFoundationTalks",
      description: "GraphQL Foundation Talks",
    },
    {
      icon: GraphQLLogo,
      title: "Shop",
      link: "https://store.graphql.org/",
      description: "store.graphql.org",
    },
    {
      icon: LinkedInIcon,
      title: "LinkedIn",
      link: "https://www.linkedin.com/company/graphql-foundation/",
      description: "GraphQL Foundation",
    },
    {
      icon: TwitterIcon,
      title: "ð•",
      link: "https://x.com/graphql",
      description: "@graphql",
    },
    {
      icon: BlueskyIcon,
      title: "Bluesky",
      link: "https://bsky.app/profile/graphql.org",
      description: "@graphql.org",
    },
    {
      icon: Facebook2Icon,
      title: "Facebook Group",
      link: "https://fb.com/groups/graphql.community",
    },
  ]}
/>

----------------------------------------

TITLE: Building Julia Type from GraphQL Object
DESCRIPTION: This snippet demonstrates how to use introspection to construct a Julia type from a GraphQL object named 'Country'.

LANGUAGE: julia
CODE:
Country = GraphQLClient.introspect_object(client, "Country")

----------------------------------------

TITLE: Implementing GraphQL Query Handler in Spring Controller
DESCRIPTION: Demonstrates how to create a basic GraphQL query handler using Spring's @Controller and @QueryMapping annotations. This example shows a simple 'hello' query implementation that returns a greeting string.

LANGUAGE: java
CODE:
@Controller
public class GreetingController {

    @QueryMapping
    public String hello() {
        return "Hello, world!";
    }

}

----------------------------------------

TITLE: Importing Icons and Components for GraphQL Channels in JavaScript/JSX
DESCRIPTION: This snippet imports various icon components and the Cards component used to display the official GraphQL channels. It includes icons for different social media platforms, documentation resources, and GraphQL-specific icons.

LANGUAGE: JavaScript
CODE:
import {
  TwitterIcon,
  GitHubIcon,
  DiscordIcon,
  GoogleCalendarIcon,
  Facebook2Icon,
  LinkedInIcon,
  BlueskyIcon,
  FileTextIcon,
  CodeIcon,
  GraphQLLogo,
  FoundationTalksChannel
} from "../../../icons"
import { Cards } from "../../../components/cards"

----------------------------------------

TITLE: Repository Configuration in Markdown
DESCRIPTION: Front matter configuration block defining the repository name, description and GitHub link for a GraphQL server implementation in Go

LANGUAGE: markdown
CODE:
---
name: graph-gophers/graphql-go
description: GraphQL server with a focus on ease of use.
github: graph-gophers/graphql-go
---

----------------------------------------

TITLE: Installing Mercurius Dependencies
DESCRIPTION: Command to install the required npm packages for running a Mercurius GraphQL server with Fastify.

LANGUAGE: bash
CODE:
npm install fastify mercurius

----------------------------------------

TITLE: Executing GraphQL Query with Generated Client
DESCRIPTION: This snippet demonstrates how to use the generated GraphQL client to execute the 'HelloWorldQuery'. It creates a GraphQLWebClient instance and uses it to run the query within a coroutine scope.

LANGUAGE: kotlin
CODE:
package com.example.client

import com.expediagroup.graphql.client.spring.GraphQLWebClient
import com.expediagroup.graphql.generated.HelloWorldQuery
import kotlinx.coroutines.runBlocking

fun main() {
    val client = GraphQLWebClient(url = "http://localhost:8080/graphql")
    runBlocking {
        val helloWorldQuery = HelloWorldQuery()
        val result = client.execute(helloWorldQuery)
        println("hello world query result: ${result.data?.helloWorld}")
    }
}

----------------------------------------

TITLE: Rendering Social Media Embed in React
DESCRIPTION: A React component that renders Twitter embeds using the Twitter widget script and blockquote elements. The code demonstrates integration of social media content within a React application.

LANGUAGE: jsx
CODE:
export const html = (
  <>
    {/* TODO: use static tweets with server components in Nextra 4 with app router support */}
    <script async src="https://platform.twitter.com/widgets.js" />
    <blockquote className="twitter-tweet">
      <p lang="en">
        Learning so much about Apollo 3.0 goodness from{" "}
        <a href="https://twitter.com/benjamn?ref_src=twsrc%5Etfw">@benjamn</a>{" "}
        at{" "}
        <a href="https://twitter.com/hashtag/graphqlsummit?src=hash&amp;ref_src=twsrc%5Etfw">
          #graphqlsummit
        </a>{" "}
        <a href="https://t.co/37fcwpFBED">pic.twitter.com/37fcwpFBED</a>
      </p>
      &mdash; Brie Bunge (@briebunge){" "}
      <a href="https://twitter.com/briebunge/status/1189626086562254849?ref_src=twsrc%5Etfw">
        October 30, 2019
      </a>
    </blockquote>
  </>
)

----------------------------------------

TITLE: Cloning and Setting Up GraphQL Website Repository
DESCRIPTION: This snippet demonstrates how to clone the GraphQL website repository, navigate to the project directory, install dependencies, and run the site locally for development.

LANGUAGE: bash
CODE:
git clone https://github.com/graphql/graphql.github.io.git
cd graphql.github.io
npm install
npm run dev

----------------------------------------

TITLE: Meetups Map Implementation with Leaflet
DESCRIPTION: React component that initializes and displays an interactive map showing meetup locations using the Leaflet library

LANGUAGE: JavaScript
CODE:
export function Meetups() {
  useEffect(() => {
    import("leaflet").then(L => {
      L.Icon.Default.mergeOptions({
        iconRetinaUrl: pinkCircle.src,
        shadowUrl: "",
      })
      const map = L.map("map").setView([45, -15], 2)
      L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(map)
      for (const { node } of meetups) {
        L.marker([node.latitude, node.longitude])
          .addTo(map)
          .bindPopup(
            `<a href="${node.link}" target="_blank" rel="noreferrer" class="!text-primary">${node.name}</a>`,
          )
      }
    })
  }, [])
  return (
    <>
      <div id="map" className="h-96 my-6 z-0" />
      {meetups.map(({ node }) => (
        <EventCard
          key={node.id}
          href={node.link}
          name={node.name}
          city={node.city}
        />
      ))}
    </>
  )
}

----------------------------------------

TITLE: Installing Dependencies for GraphQL Website
DESCRIPTION: Command to install project dependencies using pnpm package manager.

LANGUAGE: sh
CODE:
pnpm i

----------------------------------------

TITLE: Defining Project Metadata in YAML for Morpheus GraphQL Client
DESCRIPTION: This YAML snippet defines the basic metadata for the morpheus-graphql-client project. It specifies the project name, provides a brief description of its functionality, and includes a link to the GitHub repository.

LANGUAGE: yaml
CODE:
---
name: morpheus-graphql-client
description: A strongly-typed GraphQL client implementation in Haksell.
github: morpheusgraphql/morpheus-graphql
---

----------------------------------------

TITLE: Event Card Component Implementation in React
DESCRIPTION: A React component that renders an individual event card with date, location, and event details. Uses Tailwind CSS for styling and includes hover effects.

LANGUAGE: JSX
CODE:
export function EventCard({ href, date, city, name, meta }) {
  return (
    <a
      href={href}
      className={clsx(
        "text-current no-underline flex border border-neutral-300 dark:border-neutral-700 rounded-none",
        "hover:!border-primary hover:shadow-2xl hover:shadow-primary/10 transition-colors *:transition-colors hover:relative group",
        "relative after:content-['_â†—'] after:font-sans after:absolute after:right-4 after:top-4",
      )}
      target="_blank"
      rel="noreferrer"
    >
      {date && (
        <div className="shrink-0 flex flex-col justify-center items-center bg-zinc-100 dark:bg-zinc-800 group-hover:dark:bg-zinc-700 lg:w-48 w-28">
          <div className="text-5xl lg:text-7xl font-bold">{date.getDate()}</div>
          <div className="text-sm lg:text-lg">
            {date.toLocaleString("en", {
              month: "short",
              year: "numeric",
            })}
          </div>
        </div>
      )}
      <div className="bg-white dark:bg-neutral-900 group-hover:dark:bg-zinc-800 grow py-4 lg:py-7 px-5 lg:px-10 flex flex-col gap-4">
        <b className="text-primary max-lg:text-xs">{meta}</b>
        <div className="font-bold text-lg lg:text-2xl">{name}</div>
        <div className="text-xs lg:text-lg flex flex-wrap lg:gap-x-6 gap-2">
          <div className="flex items-center gap-2">
            <LocationIcon className="fill-primary size-5" />
            {city}
          </div>
          {date && (
            <div className="flex items-center gap-2">
              <ClockIcon className="fill-primary size-5" />
              {date.toLocaleString("en", {
                hour: "numeric",
                minute: "numeric",
              })}
            </div>
          )}
        </div>
      </div>
    </a>
  )

----------------------------------------

TITLE: Defining Project Metadata in Frontmatter
DESCRIPTION: YAML frontmatter block defining the basic project information including name, description, and GitHub repository link for the Railt GraphQL framework.

LANGUAGE: markdown
CODE:
---
name: Railt
description: A PHP GraphQL Framework.
github: railt/railt
---

----------------------------------------

TITLE: Initializing Agoo GraphQL Server in Ruby
DESCRIPTION: This snippet shows how to set up a basic GraphQL server using the Agoo gem. It defines a Query class with a 'hello' method, creates a Schema class, initializes the Agoo server, and sets up the GraphQL schema. The server is configured to run on port 6464 with a single thread.

LANGUAGE: ruby
CODE:
require 'agoo'

class Query
  def hello
    'hello'
  end
end

class Schema
  attr_reader :query

  def initialize
    @query = Query.new()
  end
end

Agoo::Server.init(6464, 'root', thread_count: 1, graphql: '/graphql')
Agoo::Server.start()
Agoo::GraphQL.schema(Schema.new) {
  Agoo::GraphQL.load(%^type Query { hello: String }^)
}
sleep

# To run this GraphQL example type the following then go to a browser and enter
# a URL of localhost:6464/graphql?query={hello}
#
# ruby hello.rb

----------------------------------------

TITLE: Importing IframeResizer Component in JavaScript
DESCRIPTION: Imports the IframeResizer component from the 'iframe-resizer-react' package for use in a React application.

LANGUAGE: JavaScript
CODE:
import IframeResizer from "iframe-resizer-react"

----------------------------------------

TITLE: Implementing a Simple GraphQL Query in Kotlin
DESCRIPTION: This Kotlin code demonstrates how to create a simple GraphQL query by implementing the Query interface. It defines a 'helloWorld' query that returns a string.

LANGUAGE: kotlin
CODE:
@Component
class HelloWorldQuery : Query {
  fun helloWorld() = "Hello World!!!"
}

----------------------------------------

TITLE: Installing GraphQL.js with npm
DESCRIPTION: This command installs the GraphQL package from npm, which is required to run GraphQL.js in a Node.js environment.

LANGUAGE: bash
CODE:
npm install graphql

----------------------------------------

TITLE: Implementing a Simple GraphQL Query in Kotlin
DESCRIPTION: This Kotlin code demonstrates how to create a simple GraphQL query by implementing the Query interface. It defines a 'helloWorld' query that returns a string.

LANGUAGE: kotlin
CODE:
@Component
class HelloWorldQuery : Query {
  fun helloWorld() = "Hello World!!!"
}

----------------------------------------

TITLE: Providing Media Contact Information for Linux Foundation
DESCRIPTION: This snippet provides contact details for media inquiries related to the Linux Foundation's GraphQL course announcement. It includes the name, organization, phone number, and email address of the media contact.

LANGUAGE: text
CODE:
Clyde Seepersad
The Linux Foundation
404-964-6973
cseepersad@linuxfoundation.org

----------------------------------------

TITLE: YAML Configuration for appointy/jaal GraphQL Server Library
DESCRIPTION: This YAML snippet defines metadata for the appointy/jaal GitHub repository. It specifies the project name, provides a brief description of its purpose, and includes the GitHub repository URL.

LANGUAGE: yaml
CODE:
---
name: appointy/jaal
description: Develop spec compliant GraphQL servers in Go.
github: appointy/jaal
---

----------------------------------------

TITLE: Running the GraphQL Server
DESCRIPTION: Command to execute the GraphQL server script.

LANGUAGE: bash
CODE:
node server.js

----------------------------------------

TITLE: Installing GraphQL.js with npm
DESCRIPTION: Commands to initialize a new npm project and install GraphQL.js as a dependency.

LANGUAGE: bash
CODE:
npm init
npm install graphql --save

----------------------------------------

TITLE: Rendering Table of Contents in React
DESCRIPTION: This code snippet demonstrates how to render a table of contents using React JSX. It maps over a 'toc' array to create a grid of links for easy navigation within the document.

LANGUAGE: jsx
CODE:
<div className="mt-6 grid grid-cols-2 gap-x-4">{toc.map(({value, id}) => <a key={id} href={`#${id}`}>{value}</a>)}</div>